<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
  <title> VAST Challenge 2021 -Mini-Challenge 3</title>
  
  <meta property="description" itemprop="description" content="A short description of the post."/>
  
  
  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2021-07-03"/>
  <meta property="article:created" itemprop="dateCreated" content="2021-07-03"/>
  <meta name="article:author" content="Linya Huang"/>
  
  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content=" VAST Challenge 2021 -Mini-Challenge 3"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="A short description of the post."/>
  <meta property="og:locale" content="en_US"/>
  
  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content=" VAST Challenge 2021 -Mini-Challenge 3"/>
  <meta property="twitter:description" content="A short description of the post."/>
  
  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output"]}},"value":[{"type":"character","attributes":{},"value":[" VAST Challenge 2021 -Mini-Challenge 3"]},{"type":"character","attributes":{},"value":["A short description of the post.\n"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Linya Huang"]},{"type":"character","attributes":{},"value":["https://www.linkedin.com/in/linya-huang/"]}]}]},{"type":"character","attributes":{},"value":["07-03-2021"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["toc","toc_depth","self_contained"]}},"value":[{"type":"logical","attributes":{},"value":[true]},{"type":"integer","attributes":{},"value":[6]},{"type":"logical","attributes":{},"value":[false]}]}]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["data/data.csv","data/MC3/10 year historical document.pdf","data/MC3/AnswerSheet/~$ST Challenge 2021 MC3 Answer Sheet.htm","data/MC3/AnswerSheet/VAST Challenge 2021 MC3 Answer Sheet.htm","data/MC3/AnswerSheet/VAST Challenge 2021 MC3 Answer Sheet_files/colorschememapping.xml","data/MC3/AnswerSheet/VAST Challenge 2021 MC3 Answer Sheet_files/filelist.xml","data/MC3/AnswerSheet/VAST Challenge 2021 MC3 Answer Sheet_files/themedata.thmx","data/MC3/csv-1700-1830.csv","data/MC3/csv-1831-2000.csv","data/MC3/csv-2001-2131.csv","data/MC3/Geospatial/Abila.dbf","data/MC3/Geospatial/Abila.kml","data/MC3/Geospatial/Abila.prj","data/MC3/Geospatial/Abila.sbn","data/MC3/Geospatial/Abila.sbx","data/MC3/Geospatial/Abila.shp","data/MC3/Geospatial/Abila.shx","data/MC3/Geospatial/Kronos Island.kmz","data/MC3/Geospatial/Kronos_Island.dbf","data/MC3/Geospatial/Kronos_Island.prj","data/MC3/Geospatial/Kronos_Island.sbn","data/MC3/Geospatial/Kronos_Island.sbx","data/MC3/Geospatial/Kronos_Island.shp","data/MC3/Geospatial/Kronos_Island.shx","data/MC3/Geospatial/MC2-tourist.tif","data/MC3/History of the Protectors of Kronos.pdf","data/MC3/MC3_data_readme.docx","english-ewt-ud-2.5-191206.udpipe","image/Abnormality of the first topic.jpg","image/Distribution of Twitter users of each consecutive date.jpg","image/Re-tweet network.png","image/S0097849313001490.txt","image/Spatial pattern of Twitter users.jpg","image/Spatial user-based Tweet distribution in the Manhattan area.jpg","image/Textnet.png","report.html","vast-challenge-2021-mini-challenge-2_files/anchor-4.2.2/anchor.min.js","vast-challenge-2021-mini-challenge-2_files/bowser-1.9.3/bowser.min.js","vast-challenge-2021-mini-challenge-2_files/crosstalk-1.1.1/css/crosstalk.css","vast-challenge-2021-mini-challenge-2_files/crosstalk-1.1.1/js/crosstalk.js","vast-challenge-2021-mini-challenge-2_files/crosstalk-1.1.1/js/crosstalk.js.map","vast-challenge-2021-mini-challenge-2_files/crosstalk-1.1.1/js/crosstalk.min.js","vast-challenge-2021-mini-challenge-2_files/crosstalk-1.1.1/js/crosstalk.min.js.map","vast-challenge-2021-mini-challenge-2_files/d3-4.5.0/d3.min.js","vast-challenge-2021-mini-challenge-2_files/d3-4.5.0/LICENSE","vast-challenge-2021-mini-challenge-2_files/distill-2.2.21/template.v2.js","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-10-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-11-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-12-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-13-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-14-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-15-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-16-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-17-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-18-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-19-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-20-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-23-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-24-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-26-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-5-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-7-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-8-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-9-1.png","vast-challenge-2021-mini-challenge-2_files/forceNetwork-binding-0.4/forceNetwork.js","vast-challenge-2021-mini-challenge-2_files/htmlwidgets-1.5.3/htmlwidgets.js","vast-challenge-2021-mini-challenge-2_files/jquery-1.11.3/jquery.min.js","vast-challenge-2021-mini-challenge-2_files/jquery-3.5.1/jquery-AUTHORS.txt","vast-challenge-2021-mini-challenge-2_files/jquery-3.5.1/jquery.js","vast-challenge-2021-mini-challenge-2_files/jquery-3.5.1/jquery.min.js","vast-challenge-2021-mini-challenge-2_files/jquery-3.5.1/jquery.min.map","vast-challenge-2021-mini-challenge-2_files/plotly-binding-4.9.3/plotly.js","vast-challenge-2021-mini-challenge-2_files/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css","vast-challenge-2021-mini-challenge-2_files/plotly-main-1.57.1/plotly-latest.min.js","vast-challenge-2021-mini-challenge-2_files/popper-2.6.0/popper.min.js","vast-challenge-2021-mini-challenge-2_files/tippy-6.2.7/tippy-bundle.umd.min.js","vast-challenge-2021-mini-challenge-2_files/tippy-6.2.7/tippy-light-border.css","vast-challenge-2021-mini-challenge-2_files/tippy-6.2.7/tippy.css","vast-challenge-2021-mini-challenge-2_files/tippy-6.2.7/tippy.umd.min.js","vast-challenge-2021-mini-challenge-2_files/typedarray-0.1/typedarray.min.js","vast-challenge-2021-mini-challenge-2_files/webcomponents-2.0.0/webcomponents.js","vast-challenge-2021-mini-challenge-2_files/wordcloud2-0.0.1/hover.js","vast-challenge-2021-mini-challenge-2_files/wordcloud2-0.0.1/wordcloud.css","vast-challenge-2021-mini-challenge-2_files/wordcloud2-0.0.1/wordcloud2-all.js","vast-challenge-2021-mini-challenge-2_files/wordcloud2-binding-0.2.1/wordcloud2.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->
  
  <style type="text/css">
  
  body {
    background-color: white;
  }
  
  .pandoc-table {
    width: 100%;
  }
  
  .pandoc-table>caption {
    margin-bottom: 10px;
  }
  
  .pandoc-table th:not([align]) {
    text-align: left;
  }
  
  .pagedtable-footer {
    font-size: 15px;
  }
  
  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }
  
  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }
  
  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }
  
  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }
  
  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }
  
  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }
  
  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }
  
  .html-widget {
    margin-bottom: 2.0em;
  }
  
  .l-screen-inset {
    padding-right: 16px;
  }
  
  .l-screen .caption {
    margin-left: 10px;
  }
  
  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }
  
  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }
  
  .shaded .shaded-content {
    background: white;
  }
  
  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }
  
  .hidden {
    display: none !important;
  }
  
  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }
  
  d-appendix {
    padding-top: 30px;
  }
  
  d-article>p>img {
    width: 100%;
  }
  
  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }
  
  d-article h3 {
    margin-top: 1.5rem;
  }
  
  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }
  
  /* Tweak code blocks */
  
  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }
  
  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }
  
  d-article div.sourceCode {
    background-color: white;
  }
  
  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }
  
  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;
  
    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;
  
    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }
  
  d-article pre a {
    border-bottom: none;
  }
  
  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }
  
  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }
  
  @media(min-width: 768px) {
  
  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }
  
  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }
  
  d-article pre {
    font-size: 14px;
  }
  
  }
  
  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }
  
  /* CSS for d-contents */
  
  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }
  
  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }
  
  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }
  
  .d-contents li {
    list-style-type: none
  }
  
  .d-contents nav > ul {
    padding-left: 0;
  }
  
  .d-contents ul {
    padding-left: 1em
  }
  
  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }
  
  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }
  
  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }
  
  .d-contents nav > ul > li > a {
    font-weight: 600;
  }
  
  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }
  
  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }
  
  
  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }
  
  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }
  
  
  /* Figure */
  
  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }
  
  .figure img {
    width: 100%;
  }
  
  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }
  
  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }
  
  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }
  
  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }
  
  /* Citations */
  
  d-article .citation {
    color: inherit;
    cursor: inherit;
  }
  
  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }
  
  /* Citation hover box */
  
  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }
  
  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }
  
  
  /* Tweak 1000px media break to show more text */
  
  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }
  
    .grid {
      grid-column-gap: 16px;
    }
  
    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }
  
  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }
  
    .grid {
      grid-column-gap: 32px;
    }
  }
  
  
  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */
  
  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }
  
  /* Include appendix styles here so they can be overridden */
  
  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }
  
  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }
  
  d-appendix h3 + * {
    margin-top: 1em;
  }
  
  d-appendix ol {
    padding: 0 0 0 15px;
  }
  
  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }
  
  d-appendix li {
    margin-bottom: 1em;
  }
  
  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }
  
  d-appendix > * {
    grid-column: text;
  }
  
  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }
  
  /* Include footnote styles here so they can be overridden */
  
  d-footnote-list {
    contain: layout style;
  }
  
  d-footnote-list > * {
    grid-column: text;
  }
  
  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }
  
  
  
  /* Anchor.js */
  
  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }
  
  /* Social footer */
  
  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }
  
  .disqus-comments {
    margin-right: 30px;
  }
  
  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }
  
  #disqus_thread {
    margin-top: 30px;
  }
  
  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }
  
  .article-sharing a:hover {
    border-bottom: none;
  }
  
  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }
  
  .subscribe p {
    margin-bottom: 0.5em;
  }
  
  
  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }
  
  
  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }
  
  .custom p {
    margin-bottom: 0.5em;
  }
  
  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }
  
  /* Styles for posts lists (not auto-injected) */
  
  
  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }
  
  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }
  
  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }
  
  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }
  
  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }
  
  .post-preview-last {
    border-bottom: none !important;
  }
  
  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }
  
  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }
  
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }
  
  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }
  
  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }
  
  .posts-list .metadata > * {
    display: inline-block;
  }
  
  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }
  
  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }
  
  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }
  
  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }
  
  .posts-list img {
    opacity: 1;
  }
  
  .posts-list img[data-src] {
    opacity: 0;
  }
  
  .posts-more {
    clear: both;
  }
  
  
  .posts-sidebar {
    font-size: 16px;
  }
  
  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }
  
  .sidebar-section {
    margin-bottom: 30px;
  }
  
  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }
  
  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }
  
  .categories li>a {
    border-bottom: none;
  }
  
  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }
  
  .categories .active {
    font-weight: 600;
  }
  
  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }
  
  
  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }
  
  
  /* Improve display for browsers without grid (IE/Edge <= 15) */
  
  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }
  
  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }
  
  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }
  
  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }
  
  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }
  
  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }
  
  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }
  
  
  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }
  
  .downlevel .footnotes ol {
    padding-left: 13px;
  }
  
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }
  
  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }
  
  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }
  
  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;
  
    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;
  
    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }
  
  .downlevel .posts-list .post-preview {
    color: inherit;
  }
  
  
  
  </style>
  
  <script type="application/javascript">
  
  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }
  
  // show body when load is complete
  function on_load_complete() {
  
    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }
  
  
    // set body to visible
    document.body.style.visibility = 'visible';
  
    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }
  
    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }
  
  function init_distill() {
  
    init_common();
  
    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);
  
    // create d-title
    $('.d-title').changeElementType('d-title');
  
    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);
  
    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();
  
    // move posts container into article
    $('.posts-container').appendTo($('d-article'));
  
    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');
  
    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;
  
    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();
  
    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));
  
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });
  
    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');
  
    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {
  
      // capture layout
      var layout = $(this).attr('data-layout');
  
      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });
  
  
      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });
  
    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();
  
    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();
  
    // load distill framework
    load_distill_framework();
  
    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {
  
      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;
  
      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');
  
      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');
  
      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');
  
      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });
  
      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }
  
      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');
  
      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");
  
      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }
  
       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }
  
      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();
  
      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();
  
      // hoverable references
      $('span.citation[data-cites]').each(function() {
        var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });
  
      // clear polling timer
      clearInterval(tid);
  
      // show body now that everything is ready
      on_load_complete();
    }
  
    var tid = setInterval(distill_post_process, 50);
    distill_post_process();
  
  }
  
  function init_downlevel() {
  
    init_common();
  
     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));
  
    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
  
    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();
  
    // remove toc
    $('.d-contents').remove();
  
    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });
  
  
    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);
  
    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);
  
    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();
  
    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();
  
    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));
  
    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });
  
    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));
  
    $('body').addClass('downlevel');
  
    on_load_complete();
  }
  
  
  function init_common() {
  
    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};
  
        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });
  
        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);
  
    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});
  
    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });
  
      }
    });
  
    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });
  
    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }
  
    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');
  
    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");
  
    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();
  
    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }
  
  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });
  
  </script>
  
  <!--/radix_placeholder_distill-->
  <script src="vast-challenge-2021-mini-challenge-2_files/htmlwidgets-1.5.3/htmlwidgets.js"></script>
  <script src="vast-challenge-2021-mini-challenge-2_files/plotly-binding-4.9.3/plotly.js"></script>
  <script src="vast-challenge-2021-mini-challenge-2_files/typedarray-0.1/typedarray.min.js"></script>
  <script src="vast-challenge-2021-mini-challenge-2_files/jquery-3.5.1/jquery.min.js"></script>
  <link href="vast-challenge-2021-mini-challenge-2_files/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
  <script src="vast-challenge-2021-mini-challenge-2_files/crosstalk-1.1.1/js/crosstalk.min.js"></script>
  <link href="vast-challenge-2021-mini-challenge-2_files/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet" />
  <script src="vast-challenge-2021-mini-challenge-2_files/plotly-main-1.57.1/plotly-latest.min.js"></script>
  <link href="vast-challenge-2021-mini-challenge-2_files/vis-4.20.1/vis.css" rel="stylesheet" />
  <script src="vast-challenge-2021-mini-challenge-2_files/vis-4.20.1/vis.min.js"></script>
  <script src="vast-challenge-2021-mini-challenge-2_files/visNetwork-binding-2.0.9/visNetwork.js"></script>
  <script src="vast-challenge-2021-mini-challenge-2_files/popper-2.6.0/popper.min.js"></script>
  <link href="vast-challenge-2021-mini-challenge-2_files/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="vast-challenge-2021-mini-challenge-2_files/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="vast-challenge-2021-mini-challenge-2_files/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="vast-challenge-2021-mini-challenge-2_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="vast-challenge-2021-mini-challenge-2_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="vast-challenge-2021-mini-challenge-2_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="vast-challenge-2021-mini-challenge-2_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":" VAST Challenge 2021 -Mini-Challenge 3","description":"A short description of the post.","authors":[{"author":"Linya Huang","authorURL":"https://www.linkedin.com/in/linya-huang/","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2021-07-03T00:00:00.000+08:00","citationText":"Huang, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>VAST Challenge 2021 -Mini-Challenge 3</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>A short description of the post.</p></p>
</div>

<div class="d-byline">
  Linya Huang <a href="https://www.linkedin.com/in/linya-huang/" class="uri">https://www.linkedin.com/in/linya-huang/</a> 
  
<br/>07-03-2021
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#introduction">1.Introduction</a></li>
<li><a href="#literature-review">2.Literature Review</a><ul>
<li><a href="#spatiotemporal-abnormal-detection">Spatiotemporal Abnormal Detection</a></li>
<li><a href="#junkspam-detection">Junk/Spam Detection</a></li>
<li><a href="#relationship-or-text-and-text-entities-visualization">Relationship or text and text entities visualization</a></li>
</ul></li>
<li><a href="#data-preprocessing-and-exploratory">3.Data Preprocessing and Exploratory</a><ul>
<li><a href="#import-packages-and-social-media-stream-data">3.1 Import packages and social media stream data</a></li>
<li><a href="#change-date-type">3.2 Change date type</a></li>
<li><a href="#text-data-preprocessing">3.3 Text Data Preprocessing</a></li>
</ul></li>
<li><a href="#data-visualization-for-challenge-questions">4.Data Visualization for Challenge Questions</a><ul>
<li><a href="#using-visual-analytics-characterize-the-different-types-of-content-in-the-dataset.-what-distinguishes-meaningful-event-reports-from-typical-chatter-from-junk-or-spam-please-limit-your-answer-to-8-images-and-500-words.">4.1 Using visual analytics, characterize the different types of content in the dataset. What distinguishes meaningful event reports from typical chatter from junk or spam? Please limit your answer to 8 images and 500 words.</a><ul>
<li><a href="#risk-level">Risk Level</a><ul>
<li><a href="#number-of-posts">Number of posts</a></li>
<li><a href="#number-of-retweetstweets">Number of retweets/tweets</a></li>
</ul></li>
<li><a href="#network-analysis-of-people-affected">Network Analysis of people affected</a><ul>
<li><a href="#monitor-important-news-source---mainstream-media">Monitor important news source - Mainstream media</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</nav>
</div>
<h1 id="introduction">1.Introduction</h1>
<p>In this report, I will use visual analytics techniques in R to solve questions from <a href="https://vast-challenge.github.io/2021/MC3.html">VAST Challenge 2021: Mini-Challenge 3</a>. The main data set are 1)microblog records that have been identified by automated filters as being potentially relevant to the ongoing incident and 2)text transcripts of emergency dispatches by the Abila, Kronos local police and fire departments.</p>
<h1 id="literature-review">2.Literature Review</h1>
<p>Detecting abnormal events ,such as disaster or crisis, from microblog social media has become a trend, as social media has played a pervasive role in the way people behave and think. Nowadays, people are also using time-stamped , geo -located data to share live information about what’s happening in their surroundings, which enables the public, government and researches to sense abnormal events in community more quickly and take immediate actions.</p>
<h2 id="spatiotemporal-abnormal-detection">Spatiotemporal Abnormal Detection</h2>
<p>The study from Junghoon et al. (2014) applied spatiotemporal visualization of microblog data to detect disaster and support decisions. The visualization they applied are shown as below,</p>
<p><img src="image/Distribution%20of%20Twitter%20users%20of%20each%20consecutive%20date.jpg" alt="Distribution of Twitter users of each consecutive date" /> The number of Twitter users who posted Twitter messages containing one of the following keywords: hurricane, storm, and sandy is highly related to Hurricane Sandy (as shown in blue pins and blue lines of the center locations)</p>
<p>Then their study also analyzed spatial pattern of Twitter users after the tornado.</p>
<p><img src="image/Spatial%20pattern%20of%20Twitter%20users.jpg" alt="Spatial pattern of Twitter users during 24 h in the city of Moore after damages from a strong tornado." /> (1)the heatmap shows a normal situation of Twitter user distribution in the same area of which the distribution is very different from the situation after the tornado event. As such, the spatial analytics can help with disaster management according to twitter heatmap distribution.</p>
<p>Besides, the abnormality score are calculated with Latent Dirichlet Allocation (LDA) topic modeling and Seasonal-Trend Decomposition to detect severe weather condition.</p>
<figure>
<img src="image/Abnormality%20of%20the%20first%20topic.jpg" alt="" /><figcaption>Abnormality of the first topic</figcaption>
</figure>
<p>Given the limitation of MC3 data set, we cannot visualize spatial heatmap, but we can try to leverage on LDA modeling and abnormality detection methodology to detect the crisis in Abila community.</p>
<h2 id="junkspam-detection">Junk/Spam Detection</h2>
<p>In <a href="http://visualdata.wustl.edu/varepository/VAST%20Challenge%202014/challenges/MC3%20-%20Real-Time,%20Streaming%20Social%20Media/">Visual Analytics Benchmark Repository 2014</a>, the submission from <a href="http://visualdata.wustl.edu/varepository/VAST%20Challenge%202014/challenges/MC3%20-%20Real-Time,%20Streaming%20Social%20Media/entries/Tianjin%20University/">Tianjin University</a> demonstrated a network approach in identifying junk tweet.</p>
<p><img src="image/Re-tweet%20network.png" alt="Retweet Network" /> They think “the size of the nodes represents the number of the blog being post. Notice that there are several nodes which have the larger size but no relationship with others which means theirs blogs are ignored by others.”. This is a very good intuition to visualize center and edges microblog user.</p>
<p>However, if we can consider the correlation of text in two blogs would be better.</p>
<h2 id="relationship-or-text-and-text-entities-visualization">Relationship or text and text entities visualization</h2>
<p><a href="https://github.com/cbail/textnets">Textnets</a> is a R package for automated text analysis using network techniques.It provides network for both text and text entities, which provides visualization ability to uncover correlation of texts in documents.</p>
<figure>
<img src="image/Textnet.png" alt="" /><figcaption>Textnet with R</figcaption>
</figure>
<p>This visualization can be applied in the question 2 in answering the potential consequences of the situation and the number of people who could be affected via network graph.</p>
<h1 id="data-preprocessing-and-exploratory">3.Data Preprocessing and Exploratory</h1>
<h2 id="import-packages-and-social-media-stream-data">3.1 Import packages and social media stream data</h2>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>packages</span><span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'raster'</span>,<span class='st'>'sf'</span>,<span class='st'>'clock'</span>,<span class='st'>'tmap'</span>,
            <span class='st'>'tidyverse'</span>,<span class='st'>'data.table'</span>,<span class='st'>'lubridate'</span>,
            <span class='st'>'textclean'</span>,<span class='st'>'tm'</span>,<span class='st'>'wordcloud'</span>,<span class='st'>'wordcloud2'</span>,<span class='st'>'text2vec'</span>,
            <span class='st'>'topicmodels'</span>,<span class='st'>'tidytext'</span>,<span class='st'>'textmineR'</span>,<span class='st'>'quanteda'</span>,
            <span class='st'>'BTM'</span>,<span class='st'>'textplot'</span>,<span class='st'>'concaveman'</span>,<span class='st'>'ggwordcloud'</span>,
            <span class='st'>'qdapDictionaries'</span>,<span class='st'>'textstem'</span>,<span class='st'>'devtools'</span>,<span class='st'>'textnets'</span>,
            <span class='st'>'ggiraph'</span>,<span class='st'>'plotly'</span>,<span class='st'>'igraph'</span>, <span class='st'>'tidygraph'</span>, 
             <span class='st'>'ggraph'</span>, <span class='st'>'visNetwork'</span>,<span class='st'>'udpipe'</span><span class='op'>)</span>

<span class='kw'>for</span><span class='op'>(</span><span class='va'>p</span> <span class='kw'>in</span> <span class='va'>packages</span><span class='op'>)</span><span class='op'>{</span>
  <span class='kw'>if</span><span class='op'>(</span><span class='op'>!</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='va'>p</span>,character.only<span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
    <span class='fu'><a href='https://rdrr.io/r/utils/install.packages.html'>install.packages</a></span><span class='op'>(</span><span class='va'>p</span><span class='op'>)</span>
    <span class='op'>}</span>
  <span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>p</span>, character.only <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span>
<span class='op'>}</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#install.packages("devtools")</span>
<span class='co'>#install_github("cbail/textnets")</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#read csv file</span>
<span class='va'>data_17_1830</span><span class='op'>=</span><span class='fu'>read_csv</span><span class='op'>(</span><span class='st'>"data/MC3/csv-1700-1830.csv"</span><span class='op'>)</span>
<span class='va'>data_1830_20</span><span class='op'>=</span><span class='fu'>read_csv</span><span class='op'>(</span><span class='st'>"data/MC3/csv-1831-2000.csv"</span><span class='op'>)</span>
<span class='va'>data_20_2130</span><span class='op'>=</span><span class='fu'>read_csv</span><span class='op'>(</span><span class='st'>"data/MC3/csv-2001-2131.csv"</span><span class='op'>)</span>

<span class='co'>#append 3 dataset</span>

<span class='va'>data</span><span class='op'>=</span><span class='fu'>rbindlist</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'>data_17_1830</span>,<span class='va'>data_1830_20</span>,<span class='va'>data_20_2130</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'>#print head of data</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>     type date(yyyyMMddHHmmss)              author
1: mbdata         2.014012e+13                 POK
2: mbdata         2.014012e+13       maha_Homeland
3: mbdata         2.014012e+13            Viktor-E
4: mbdata         2.014012e+13          KronosStar
5: mbdata         2.014012e+13           AbilaPost
6: mbdata         2.014012e+13 ourcountryourrights
                                                                                                              message
1:                                                                                              Follow us @POK-Kronos
2:                                       Don&#39;t miss a moment!  Follow our live coverage of the POK Rally in the Park!
3:                                                        Come join us in the Park! Music tonight at Abila City Park!
4:          POK rally to start in Abila City Park. POK leader Sylvia Marek to open with a speech.&lt;U+0098&gt; #KronosStar
5: POK rally set to take place in Abila City Park - POK leader Sylvia Marek has begun with opening remarks #AbilaPost
6:                                                                           POK rally in the park tonight! #POKrally
   latitude longitude location
1:       NA        NA     &lt;NA&gt;
2:       NA        NA     &lt;NA&gt;
3:       NA        NA     &lt;NA&gt;
4:       NA        NA     &lt;NA&gt;
5:       NA        NA     &lt;NA&gt;
6:       NA        NA     &lt;NA&gt;</code></pre>
</div>
<h2 id="change-date-type">3.2 Change date type</h2>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#timestamp in lubridate</span>
<span class='va'>data</span><span class='op'>$</span><span class='va'>timestamp</span> <span class='op'>&lt;-</span> <span class='fu'>ymd_hms</span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>`date(yyyyMMddHHmmss)`</span><span class='op'>)</span>

<span class='va'>data</span><span class='op'>$</span><span class='va'>time_1min</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/cut.html'>cut</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>timestamp</span>, breaks<span class='op'>=</span><span class='st'>"1 min"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h2 id="text-data-preprocessing">3.3 Text Data Preprocessing</h2>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>rt</span> <span class='op'>&lt;-</span> <span class='st'>"RT @([A-Za-z]+[A-Za-z0-9_-]+)(?![A-Za-z0-9_]*\\.)"</span>
<span class='va'>ppl</span> <span class='op'>&lt;-</span> <span class='st'>"@([A-Za-z]+[A-Za-z0-9_-]+)(?![A-Za-z0-9_]*\\.)"</span>
<span class='va'>hash</span> <span class='op'>&lt;-</span> <span class='st'>"#([A-Za-z]+[A-Za-z0-9_]+)(?![A-Za-z0-9_]*\\.)"</span>

<span class='va'>data</span><span class='op'>$</span><span class='va'>cleaned</span><span class='op'>&lt;-</span><span class='va'>data</span><span class='op'>$</span><span class='va'>message</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>str_replace_all</span><span class='op'>(</span><span class='va'>rt</span>,<span class='st'>""</span><span class='op'>)</span><span class='op'>%&gt;%</span>
  <span class='fu'>str_replace_all</span><span class='op'>(</span><span class='va'>ppl</span>,<span class='st'>""</span><span class='op'>)</span><span class='op'>%&gt;%</span>
  <span class='fu'>str_replace_all</span><span class='op'>(</span><span class='va'>hash</span>,<span class='st'>""</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/base/chartr.html'>tolower</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>%&gt;%</span>   <span class='co'># transform all message to lower cases</span>
  <span class='fu'>replace_contraction</span><span class='op'>(</span><span class='op'>)</span><span class='op'>%&gt;%</span>   <span class='co'>#replace contractions with long form</span>
  <span class='fu'>replace_word_elongation</span><span class='op'>(</span><span class='op'>)</span><span class='op'>%&gt;%</span> <span class='co'>#remove the same letter (case insensitive) appears 3 times consecutively</span>
  <span class='fu'>str_replace_all</span><span class='op'>(</span><span class='st'>"[0-9]"</span>, <span class='st'>""</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='co'>#removing numbers</span>
  <span class='fu'>str_replace_all</span><span class='op'>(</span><span class='st'>"([,=!.?$+%-&amp;])"</span>,<span class='st'>""</span><span class='op'>)</span><span class='op'>%&gt;%</span> <span class='co'>#remove punctuations</span>
  <span class='co'>#str_replace_all("rt|pokrally|kronosstar","")%&gt;%</span>
  <span class='co'>#|#hi|#pok|#pokrally|</span>
  <span class='co'># #abilapost|#kronosstar|#centralbulletin|@centralbulletin|@kronosstar|rally|aliba") #remove hashtag and rt</span>
  <span class='fu'>removeWords</span><span class='op'>(</span><span class='fu'>stopwords</span><span class='op'>(</span><span class='st'>"english"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>%&gt;%</span> 
  <span class='fu'>str_squish</span><span class='op'>(</span><span class='op'>)</span><span class='op'>%&gt;%</span> <span class='co'>#trim whitespace from a string </span>
  <span class='fu'>lemmatize_strings</span><span class='op'>(</span><span class='op'>)</span><span class='co'>#removes whitespace from start and end of string</span>



<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span><span class='op'>(</span><span class='va'>data</span>,select<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"message"</span>,<span class='st'>"cleaned"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>                                                                                                              message
1:                                                                                              Follow us @POK-Kronos
2:                                       Don&#39;t miss a moment!  Follow our live coverage of the POK Rally in the Park!
3:                                                        Come join us in the Park! Music tonight at Abila City Park!
4:          POK rally to start in Abila City Park. POK leader Sylvia Marek to open with a speech.&lt;U+0098&gt; #KronosStar
5: POK rally set to take place in Abila City Park - POK leader Sylvia Marek has begun with opening remarks #AbilaPost
6:                                                                           POK rally in the park tonight! #POKrally
                                                                                cleaned
1:                                                                            follow us
2:                                      miss moment follow live coverage pok rally park
3:                                      come join us park music tonight abila city park
4:          pok rally start abila city park pok leader sylvia marek open speech&lt;U+FFFD&gt;
5: pok rally set take place abila city park - pok leader sylvia marek begin open remark
6:                                                               pok rally park tonight</code></pre>
</div>
Retrieve RT/ hashtags from message
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>regex</span> <span class='op'>&lt;-</span> <span class='st'>"RT @([A-Za-z]+[A-Za-z0-9_-]+)(?![A-Za-z0-9_]*\\.)"</span>
<span class='va'>regex2</span> <span class='op'>&lt;-</span> <span class='st'>"@([A-Za-z]+[A-Za-z0-9_-]+)(?![A-Za-z0-9_]*\\.)"</span>
<span class='va'>regex3</span> <span class='op'>&lt;-</span> <span class='st'>"RT @([A-Za-z]+[A-Za-z0-9_-]+)(?![A-Za-z0-9_]*\\.) "</span>
<span class='va'>regex4</span> <span class='op'>&lt;-</span> <span class='st'>"#([A-Za-z]+[A-Za-z0-9_]+)(?![A-Za-z0-9_]*\\.)"</span>

<span class='va'>data</span><span class='op'>$</span><span class='va'>RT_pattern</span><span class='op'>&lt;-</span><span class='fu'>str_extract_all</span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>message</span>, <span class='va'>regex</span>, simplify <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='va'>data</span><span class='op'>$</span><span class='va'>RT_from</span><span class='op'>&lt;-</span>  <span class='fu'>str_extract_all</span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>RT_pattern</span>, <span class='va'>regex2</span>, simplify <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='va'>data</span><span class='op'>$</span><span class='va'>RT_from</span><span class='op'>&lt;-</span>  <span class='fu'>str_replace</span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>RT_from</span>, <span class='st'>"@"</span>,<span class='st'>""</span><span class='op'>)</span>
<span class='va'>data</span><span class='op'>$</span><span class='va'>RT_message</span> <span class='op'>&lt;-</span> <span class='fu'>str_replace_all</span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>message</span>,<span class='va'>regex3</span>,<span class='st'>""</span><span class='op'>)</span>

<span class='va'>data</span><span class='op'>$</span><span class='va'>hashtag</span> <span class='op'>&lt;-</span> <span class='fu'>str_extract_all</span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>message</span>, <span class='va'>regex2</span>, simplify <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
<span class='va'>data</span><span class='op'>$</span><span class='va'>user_mentioned</span> <span class='op'>&lt;-</span> <span class='fu'>str_extract_all</span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>message</span>, <span class='va'>regex4</span>, simplify <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>


<span class='va'>data_RT</span><span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>RT_from</span><span class='op'>!=</span><span class='st'>""</span><span class='op'>)</span>

<span class='co'>#head(data)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#convert dataframe to corpus</span>
<span class='va'>docs</span> <span class='op'>&lt;-</span> <span class='fu'>Corpus</span><span class='op'>(</span><span class='fu'>VectorSource</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>cleaned</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>

<span class='fu'>inspect</span><span class='op'>(</span><span class='va'>docs</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>2</span><span class='op'>]</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>&lt;&lt;SimpleCorpus&gt;&gt;
Metadata:  corpus specific: 1, document level (indexed): 0
Content:  documents: 2

[1] follow us                                      
[2] miss moment follow live coverage pok rally park</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Create a document-term-matrix</span>

<span class='va'>dtm</span> <span class='op'>&lt;-</span> <span class='fu'>TermDocumentMatrix</span><span class='op'>(</span><span class='va'>docs</span><span class='op'>)</span> 
<span class='va'>matrix</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>dtm</span><span class='op'>)</span> 
<span class='va'>words</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/sort.html'>sort</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/colSums.html'>rowSums</a></span><span class='op'>(</span><span class='va'>matrix</span><span class='op'>)</span>,decreasing<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span> 

<span class='co'># words and frequency dataframe</span>
<span class='va'>df</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>word <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>words</span><span class='op'>)</span>,freq<span class='op'>=</span><span class='va'>words</span><span class='op'>)</span>

<span class='co'>#word cloud</span>
<span class='fu'>wordcloud</span><span class='op'>(</span>words <span class='op'>=</span> <span class='va'>df</span><span class='op'>$</span><span class='va'>word</span>, freq <span class='op'>=</span> <span class='va'>df</span><span class='op'>$</span><span class='va'>freq</span>, min.freq <span class='op'>=</span> <span class='fl'>5</span>,           max.words<span class='op'>=</span><span class='fl'>200</span>, random.order<span class='op'>=</span><span class='cn'>FALSE</span>, rot.per<span class='op'>=</span><span class='fl'>0.35</span>,            colors<span class='op'>=</span><span class='fu'>brewer.pal</span><span class='op'>(</span><span class='fl'>8</span>, <span class='st'>"Dark2"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<img src="vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-7-1.png" width="624" />
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#wordcloud2(data=df, size=1.6, color='random-dark')</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#as_datetime(data$time_1min)</span>
<span class='va'>data</span><span class='op'>$</span><span class='va'>timestamp</span> <span class='op'>&lt;-</span> <span class='fu'>ymd_hms</span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>`date(yyyyMMddHHmmss)`</span><span class='op'>)</span>
<span class='va'>data</span><span class='op'>$</span><span class='va'>time_30min</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/cut.html'>cut</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>timestamp</span>, breaks<span class='op'>=</span><span class='st'>"30 min"</span><span class='op'>)</span>
<span class='va'>data</span><span class='op'>$</span><span class='va'>id</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq.int</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>data_subset</span><span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span><span class='op'>(</span><span class='va'>data</span>,select<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"time_30min"</span>,<span class='st'>"cleaned"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h1 id="data-visualization-for-challenge-questions">4.Data Visualization for Challenge Questions</h1>
<h2 id="using-visual-analytics-characterize-the-different-types-of-content-in-the-dataset.-what-distinguishes-meaningful-event-reports-from-typical-chatter-from-junk-or-spam-please-limit-your-answer-to-8-images-and-500-words.">4.1 Using visual analytics, characterize the different types of content in the dataset. What distinguishes meaningful event reports from typical chatter from junk or spam? Please limit your answer to 8 images and 500 words.</h2>
<p>First the data is split by 30 minutes time interval and perform wordcloud, to visualize the most frequent words in the microblog.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>data</span><span class='op'>$</span><span class='va'>timestamp</span> <span class='op'>&lt;-</span> <span class='fu'>ymd_hms</span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>`date(yyyyMMddHHmmss)`</span><span class='op'>)</span>
<span class='va'>data</span><span class='op'>$</span><span class='va'>time_30min</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/cut.html'>cut</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>timestamp</span>, breaks<span class='op'>=</span><span class='st'>"30 min"</span><span class='op'>)</span>
<span class='va'>data</span><span class='op'>$</span><span class='va'>id</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq.int</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>data_subset</span><span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span><span class='op'>(</span><span class='va'>data</span>,select<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"time_30min"</span>,<span class='st'>"cleaned"</span><span class='op'>)</span><span class='op'>)</span>


<span class='va'>usenet_words</span><span class='op'>&lt;-</span><span class='va'>data_subset</span><span class='op'>%&gt;%</span>
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>time_30min</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>unnest_tokens</span><span class='op'>(</span><span class='va'>word</span>, <span class='va'>cleaned</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>count</span><span class='op'>(</span><span class='va'>time_30min</span>,<span class='va'>word</span>, sort <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>


<span class='va'>usenet_words</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/order.html'>order</a></span><span class='op'>(</span><span class='va'>usenet_words</span><span class='op'>$</span><span class='va'>time_30min</span><span class='op'>)</span>,<span class='op'>]</span>
</code></pre>
</div>
<pre><code># A tibble: 6,975 x 3
# Groups:   time_30min [10]
   time_30min          word       n
   &lt;fct&gt;               &lt;chr&gt;  &lt;int&gt;
 1 2014-01-23 17:00:00 pok       98
 2 2014-01-23 17:00:00 rally     76
 3 2014-01-23 17:00:00 people    44
 4 2014-01-23 17:00:00 park      40
 5 2014-01-23 17:00:00 jakab     37
 6 2014-01-23 17:00:00 lucio     35
 7 2014-01-23 17:00:00 police    35
 8 2014-01-23 17:00:00 can       34
 9 2014-01-23 17:00:00 abila     30
10 2014-01-23 17:00:00 sylvia    30
# ... with 6,965 more rows</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>1234</span><span class='op'>)</span>
<span class='va'>usenet_words</span> <span class='op'>%&gt;%</span>
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>time_30min</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>slice_max</span><span class='op'>(</span>order_by <span class='op'>=</span> <span class='va'>n</span>, n <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
<span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>label <span class='op'>=</span> <span class='va'>word</span>,
           size <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_text_wordcloud</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>theme_minimal</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>facet_wrap</span><span class='op'>(</span><span class='op'>~</span><span class='va'>time_30min</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-9-1.png" width="768" /></p>
</div>
<p>From the visualization, we can tell the main content discussing in the community are</p>
<p>1700-1830 pok rally in park with several name mentioned such as cylvia, jakab, viktor 1830-1930 fire at dancing dolphin partment, police and evacuation. 1930-2000 shooting and cops/police 2100-2130 van/ hostage/ explosion</p>
<p>Then, by applying Term Frequency – Inverse document frequency (tf-idf) to bigram texts, we can uncover more information compared with unigrams.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>bigrams</span> <span class='op'>&lt;-</span> <span class='va'>data_subset</span><span class='op'>%&gt;%</span>
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>time_30min</span><span class='op'>)</span><span class='op'>%&gt;%</span>
  <span class='fu'>unnest_tokens</span><span class='op'>(</span><span class='va'>word</span>, 
                <span class='va'>cleaned</span>, 
                token <span class='op'>=</span> <span class='st'>"ngrams"</span>, 
                n <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>count</span><span class='op'>(</span><span class='va'>time_30min</span>,<span class='va'>word</span>, sort <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>


<span class='va'>tf_idf</span> <span class='op'>&lt;-</span> <span class='va'>bigrams</span><span class='op'>%&gt;%</span>
  <span class='fu'>bind_tf_idf</span><span class='op'>(</span><span class='va'>word</span>,<span class='va'>time_30min</span>, <span class='va'>n</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>arrange</span><span class='op'>(</span><span class='fu'>desc</span><span class='op'>(</span><span class='va'>tf_idf</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>tf_idf</span> <span class='op'>%&gt;%</span>
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>time_30min</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>slice_max</span><span class='op'>(</span><span class='va'>tf_idf</span>,
            n <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>ungroup</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>word <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/reorder.factor.html'>reorder</a></span><span class='op'>(</span><span class='va'>word</span>,
                        <span class='va'>tf_idf</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span><span class='va'>tf_idf</span>,
             <span class='va'>word</span>,
             fill <span class='op'>=</span> <span class='va'>time_30min</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_col</span><span class='op'>(</span>show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>facet_wrap</span><span class='op'>(</span><span class='op'>~</span> <span class='va'>time_30min</span>,
             scales <span class='op'>=</span> <span class='st'>"free"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>x <span class='op'>=</span> <span class='st'>"tf-idf bigram"</span>,
       y <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-10-1.png" width="1152" /></p>
</div>
<p>Without having to process more on data, the contents of the microblogs with 30 mins time interval is even more informative. For instance, from 1700-1800, we know that police presense at pok rally and Dr. Audrey is mentioned several times from 1800. Then from 1830 , fire occurs at dolphin apartment and followed by evacuation. Then, from 1930, a shot/gun fire happened with police involved, followed by injured firefighter and hospitalization. And from 2100 suspects were arrested and followed by an explosion at dolphin apartment from 2130 onward.</p>
<p>Then, to distinguish meaningful events from chatter/junk/spam messages, I will then perform topic modeling to identify topic in each microblogs.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>wordcorpus</span> <span class='op'>&lt;-</span> <span class='fu'>Corpus</span><span class='op'>(</span><span class='fu'>VectorSource</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>cleaned</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>  
<span class='va'>dtm</span> <span class='op'>&lt;-</span> <span class='fu'>DocumentTermMatrix</span><span class='op'>(</span><span class='va'>wordcorpus</span>,
                          control <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
                            wordLengths<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>, <span class='cn'>Inf</span><span class='op'>)</span>,               <span class='co'># limit word length</span>
                            bounds <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>global <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>5</span>,<span class='cn'>Inf</span><span class='op'>)</span><span class='op'>)</span>,    <span class='co'># minimum word frequency</span>
                            removeNumbers <span class='op'>=</span> <span class='cn'>TRUE</span>,                <span class='co'>#remove Numbers</span>
                            weighting <span class='op'>=</span> <span class='va'>weightTf</span>,                <span class='co'>#weighted term frequency</span>
                            encoding <span class='op'>=</span> <span class='st'>"UTF-8"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>rowTotals</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/apply.html'>apply</a></span><span class='op'>(</span><span class='va'>dtm</span> , <span class='fl'>1</span>, <span class='va'>sum</span><span class='op'>)</span> <span class='co'>#Find the sum of words in each Document</span>
<span class='va'>dtm.new</span>   <span class='op'>&lt;-</span> <span class='va'>dtm</span><span class='op'>[</span><span class='va'>rowTotals</span><span class='op'>&gt;</span> <span class='fl'>0</span>, <span class='op'>]</span> <span class='co'>#remove 0 dtm rows of matrix</span>

<span class='va'>topic</span><span class='op'>=</span><span class='fu'>LDA</span><span class='op'>(</span><span class='va'>dtm.new</span>,k<span class='op'>=</span><span class='fl'>10</span>,method<span class='op'>=</span><span class='st'>"Gibbs"</span>,conrol<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>seed<span class='op'>=</span><span class='fl'>2021</span>,alpha<span class='op'>=</span><span class='fl'>0.01</span>,iter<span class='op'>=</span><span class='fl'>200</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Top five words in each topics</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/stats/terms.html'>terms</a></span><span class='op'>(</span><span class='va'>topic</span>,<span class='fl'>5</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>     Topic 1  Topic 2      Topic 3   Topic 4 Topic 5 Topic 6
[1,] &quot;go&quot;     &quot;can&quot;        &quot;fire&quot;    &quot;life&quot;  &quot;van&quot;   &quot;think&quot;
[2,] &quot;get&quot;    &quot;people&quot;     &quot;dance&quot;   &quot;thing&quot; &quot;just&quot;  &quot;want&quot; 
[3,] &quot;viktor&quot; &quot;one&quot;        &quot;dolphin&quot; &quot;find&quot;  &quot;cop&quot;   &quot;never&quot;
[4,] &quot;dr&quot;     &quot;say&quot;        &quot;build&quot;   &quot;live&quot;  &quot;run&quot;   &quot;work&quot; 
[5,] &quot;newman&quot; &quot;successful&quot; &quot;unit&quot;    &quot;great&quot; &quot;shoot&quot; &quot;look&quot; 
     Topic 7    Topic 8 Topic 9  Topic 10 
[1,] &quot;police&quot;   &quot;good&quot;  &quot;pok&quot;    &quot;take&quot;   
[2,] &quot;scene&quot;    &quot;time&quot;  &quot;abila&quot;  &quot;make&quot;   
[3,] &quot;evacuate&quot; &quot;stop&quot;  &quot;rally&quot;  &quot;success&quot;
[4,] &quot;hostage&quot;  &quot;give&quot;  &quot;park&quot;   &quot;two&quot;    
[5,] &quot;area&quot;     &quot;start&quot; &quot;sylvia&quot; &quot;failure&quot;</code></pre>
</div>
<p>Extract per-topic-per-word probabilities ,β(“beta”), from the model. The higher the value, the more important of the words to the topic.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>ap_topics</span> <span class='op'>&lt;-</span> <span class='fu'>tidy</span><span class='op'>(</span><span class='va'>topic</span>, matrix <span class='op'>=</span> <span class='st'>"beta"</span><span class='op'>)</span>


<span class='va'>ap_top_terms</span> <span class='op'>&lt;-</span> <span class='va'>ap_topics</span> <span class='op'>%&gt;%</span>
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>topic</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>slice_max</span><span class='op'>(</span><span class='va'>beta</span>, n <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ungroup</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>arrange</span><span class='op'>(</span><span class='va'>topic</span>, <span class='op'>-</span><span class='va'>beta</span><span class='op'>)</span>

<span class='va'>ap_top_terms</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>term <span class='op'>=</span> <span class='fu'>reorder_within</span><span class='op'>(</span><span class='va'>term</span>, <span class='va'>beta</span>, <span class='va'>topic</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span><span class='va'>beta</span>, <span class='va'>term</span>, fill <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>topic</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_col</span><span class='op'>(</span>show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>facet_wrap</span><span class='op'>(</span><span class='op'>~</span> <span class='va'>topic</span>, scales <span class='op'>=</span> <span class='st'>"free"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>scale_y_reordered</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-13-1.png" width="1152" /></p>
</div>
<p>As shown above, the meaningful keywords can be found in each topic.</p>
<p>Topic 1 - police related as words mentioning police/standoff/crowd Topic 5 - several pok leaders are mentioned Topic 6 - resident evacuation and hostages Topic 9 - fire at dancing dolphin topic 10- van/ shoot/ guy</p>
<p>While other topics are more chatter/junk related.</p>
By using gamma, we can then assign each document with a topic
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>topic_gamma</span> <span class='op'>&lt;-</span> <span class='fu'>tidy</span><span class='op'>(</span><span class='va'>topic</span>, matrix <span class='op'>=</span> <span class='st'>"gamma"</span><span class='op'>)</span>
<span class='va'>topic_gamma</span> <span class='op'>&lt;-</span> <span class='va'>topic_gamma</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>document</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>slice</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/which.min.html'>which.max</a></span><span class='op'>(</span><span class='va'>gamma</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>topic_gamma</span><span class='op'>$</span><span class='va'>document</span><span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='va'>topic_gamma</span><span class='op'>$</span><span class='va'>document</span><span class='op'>)</span> 
<span class='co'>#topic_gamma[order(topic_gamma$document),] %&gt;% group_by(topic) %&gt;% count() </span>
<span class='co'>#(topic_gamma%&gt;% arrange(desc(-document)))</span>

<span class='va'>id_time</span> <span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'>%&gt;%</span> <span class='fu'>select</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"id"</span>,<span class='st'>"time_1min"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>topic_data</span><span class='op'>&lt;-</span><span class='fu'>left_join</span><span class='op'>(</span><span class='va'>topic_gamma</span>,<span class='va'>id_time</span>,by<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"document"</span><span class='op'>=</span><span class='st'>"id"</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'>#manually put topics in LDA results</span>

<span class='va'>topic_c</span><span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>2</span>,<span class='fl'>3</span>,<span class='fl'>4</span>,<span class='fl'>5</span>,<span class='fl'>6</span>,<span class='fl'>7</span>,<span class='fl'>8</span>,<span class='fl'>9</span>,<span class='fl'>10</span><span class='op'>)</span>  
<span class='va'>topics_c</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"police related"</span>,<span class='st'>"chatter1"</span>,<span class='st'>"chatter2"</span>,<span class='st'>"chatter3"</span>,<span class='st'>"POK leaders"</span>,
<span class='st'>"evacuation &amp; hostages"</span>,<span class='st'>"chatter4"</span>,<span class='st'>"junk"</span>,<span class='st'>"fire"</span>,<span class='st'>"van"</span><span class='op'>)</span>
<span class='va'>topic_df</span><span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span><span class='va'>topic_c</span>,<span class='va'>topics_c</span> <span class='op'>)</span>

<span class='va'>topic_data</span><span class='op'>&lt;-</span><span class='fu'>left_join</span><span class='op'>(</span><span class='va'>topic_data</span>,<span class='va'>topic_df</span>,by<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"topic"</span><span class='op'>=</span><span class='st'>"topic_c"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>topic_data</span> <span class='op'>%&gt;%</span> <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>time_1min</span>,<span class='va'>topics_c</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>count</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>x<span class='op'>=</span><span class='va'>time_1min</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>geom_bar</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>y<span class='op'>=</span><span class='va'>n</span><span class='op'>)</span>, stat <span class='op'>=</span> <span class='st'>"identity"</span>,fill <span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>facet_wrap</span><span class='op'>(</span><span class='op'>~</span><span class='va'>topics_c</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>theme</span><span class='op'>(</span>axis.title.x<span class='op'>=</span><span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,
        axis.text.x<span class='op'>=</span><span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,
        axis.ticks.x<span class='op'>=</span><span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>ggtitle</span><span class='op'>(</span><span class='st'>"Topics Trend from 1700-2130"</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-14-1.png" width="624" /></p>
</div>
<p>From the topic trend distribution, we can see that chatter topic 1-4 are spreaded all over the time period, and the number of junk posts are small and evenly distributed. While the peaks of key major events are very obvious at certain point of time. Through topic modeling techniques, we can identify major event from junk/chatter/spam, and thetopic trend visualization can help the audience know about temporal pattern of meanningful events distribution.</p>
<div class="layout-chunk" data-layout="l-body">
<pre><code>2021-07-14 20:11:43 Start Gibbs sampling iteration 1/500
2021-07-14 20:11:45 Start Gibbs sampling iteration 101/500
2021-07-14 20:11:46 Start Gibbs sampling iteration 201/500
2021-07-14 20:11:47 Start Gibbs sampling iteration 301/500
2021-07-14 20:11:49 Start Gibbs sampling iteration 401/500</code></pre>
<p><img src="vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-15-1.png" width="624" /></p>
</div>
<p>Then, let’s take a closer look of the relationship of number of tweets and re-tweets from a single author.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>tweet</span><span class='op'>&lt;-</span><span class='va'>data</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>author</span><span class='op'>!=</span><span class='st'>"NA"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>author</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>count</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ungroup</span><span class='op'>(</span><span class='op'>)</span>

<span class='va'>retweet</span><span class='op'>&lt;-</span><span class='va'>data</span> <span class='op'>%&gt;%</span>
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>RT_from</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>count</span><span class='op'>(</span><span class='op'>)</span><span class='op'>%&gt;%</span> 
  <span class='fu'>ungroup</span><span class='op'>(</span><span class='op'>)</span>


<span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>tweet</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>2</span><span class='op'>]</span><span class='op'>&lt;-</span><span class='st'>"tweet"</span>
<span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>retweet</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>2</span><span class='op'>]</span><span class='op'>&lt;-</span><span class='st'>"retweet"</span>


<span class='va'>tweet_retweet</span><span class='op'>&lt;-</span><span class='fu'>left_join</span><span class='op'>(</span><span class='va'>tweet</span>, <span class='va'>retweet</span>, by <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"author"</span><span class='op'>=</span><span class='st'>"RT_from"</span><span class='op'>)</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>tweet_retweet</span><span class='op'>$</span><span class='va'>retweet</span><span class='op'>)</span><span class='op'>&lt;-</span><span class='fl'>0</span>

<span class='va'>tweet_retweet</span><span class='op'>$</span><span class='va'>retweet_ratio</span><span class='op'>&lt;-</span> <span class='va'>tweet_retweet</span><span class='op'>$</span><span class='va'>retweet</span><span class='op'>/</span><span class='va'>tweet_retweet</span><span class='op'>$</span><span class='va'>tweet</span>
<span class='va'>tweet_retweet</span><span class='op'>$</span><span class='va'>tweet_scale</span> <span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/base/scale.html'>scale</a></span><span class='op'>(</span><span class='va'>tweet_retweet</span><span class='op'>$</span><span class='va'>tweet</span><span class='op'>)</span>
<span class='va'>tweet_retweet</span><span class='op'>$</span><span class='va'>tweet_scale</span> <span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='va'>tweet_retweet</span><span class='op'>$</span><span class='va'>tweet_scale</span><span class='op'>)</span>

<span class='va'>fig</span><span class='op'>&lt;-</span> <span class='fu'>plot_ly</span><span class='op'>(</span>data<span class='op'>=</span><span class='va'>tweet_retweet</span>,
        x<span class='op'>=</span><span class='op'>~</span><span class='va'>retweet_ratio</span>,
        y<span class='op'>=</span><span class='op'>~</span><span class='va'>tweet_scale</span>,
        text<span class='op'>=</span> <span class='op'>~</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='st'>"Author:"</span>,<span class='va'>author</span>,
                     <span class='st'>"Tweet:"</span>,<span class='va'>tweet</span>,
                     <span class='st'>"Re-Tweet"</span>,<span class='va'>retweet</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>fig</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/graphics/layout.html'>layout</a></span><span class='op'>(</span>autosize <span class='op'>=</span> <span class='cn'>F</span>, width <span class='op'>=</span> <span class='fl'>100</span>, height <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>
</code></pre>
</div>
<div id="htmlwidget-c5122a93a18fcb165ddc" style="width:624px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-c5122a93a18fcb165ddc">{"x":{"visdat":{"2f24492f5734":["function () ","plotlyVisDat"]},"cur_data":"2f24492f5734","attrs":{"2f24492f5734":{"x":{},"y":{},"text":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20]}},"layout":{"width":100,"height":100,"margin":{"b":40,"l":60,"t":25,"r":10},"autosize":false,"xaxis":{"domain":[0,1],"automargin":true,"title":"retweet_ratio"},"yaxis":{"domain":[0,1],"automargin":true,"title":"tweet_scale"},"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[0.416666666666667,0.416666666666667,0.4,2.34722222222222,0.3,0.333333333333333,0.3,2.6,0.36,0.75,0.466666666666667,0.25,1,0.25,0.285714285714286,0.266666666666667,0.5,0.428571428571429,0.5,0.333333333333333,0.333333333333333,2.81538461538462,2.52941176470588,1,1,1,0.142857142857143,2.91836734693878,0.5,0.36,0.5,0.25,0.2,0.333333333333333,0.339622641509434,0.285714285714286,0.222222222222222,2.0952380952381,0.375,1,1,0.470588235294118,0.347826086956522,0.28,0.333333333333333,0.253731343283582,0.166666666666667,0.5,0.304347826086957,0.382352941176471,0.25,0.214285714285714,0.25,0.405405405405405,0.363636363636364,0.384615384615385,0.428571428571429,0.555555555555556,0.5,0.5,0.333333333333333,0.5,0.5,0.166666666666667,0.28,0.359375,0.416666666666667,0.3,0.25],"y":[-0.12829474358581,-0.12829474358581,-0.0990100738542662,0.457398651045061,-0.0502022909683603,-0.186864083048897,-0.147817856740172,0.0474132748034514,0.242644406347075,-0.206387196203259,-0.0990100738542662,-0.206387196203259,-0.225910309357621,-0.0502022909683603,0.36954464185043,0.0474132748034514,-0.206387196203259,-0.177102526471716,-0.206387196203259,-0.21614875278044,-0.21614875278044,0.389067755004793,-0.0794869606999039,-0.225910309357621,-0.235671865934803,-0.235671865934803,-0.177102526471716,0.232882849769894,-0.225910309357621,-0.00139450808245445,-0.225910309357621,-0.167340969894534,-0.196625639626078,-0.0990100738542662,0.789291574669221,-0.177102526471716,-0.157579413317353,-0.0404407343911792,-0.089248517277085,-0.235671865934803,-0.235671865934803,-0.0794869606999039,-0.0209176212368168,-0.00139450808245445,-0.21614875278044,0.408590868159155,-0.186864083048897,-0.206387196203259,-0.0209176212368168,0.0864595011121761,-0.089248517277085,-0.108771630431447,-0.206387196203259,0.11574417084372,-0.138056300162991,0.00836704849472673,-0.108771630431447,-0.157579413317353,-0.108771630431447,-0.225910309357621,-0.21614875278044,-0.225910309357621,-0.225910309357621,-0.12829474358581,-0.00139450808245445,0.379306198427611,-0.12829474358581,0.0474132748034514,-0.206387196203259],"text":["Author: AbilaAllFaith Tweet: 12 Re-Tweet 5","Author: AbilaFireDept Tweet: 12 Re-Tweet 5","Author: AbilaPoliceDepartment Tweet: 15 Re-Tweet 6","Author: AbilaPost Tweet: 72 Re-Tweet 169","Author: anaregents Tweet: 20 Re-Tweet 6","Author: brewvebeenserved Tweet: 6 Re-Tweet 2","Author: brontes_riff Tweet: 10 Re-Tweet 3","Author: CentralBulletin Tweet: 30 Re-Tweet 78","Author: choconibbs Tweet: 50 Re-Tweet 18","Author: cleaningFish Tweet: 4 Re-Tweet 3","Author: dangermice Tweet: 15 Re-Tweet 7","Author: dtrejos Tweet: 4 Re-Tweet 1","Author: ernieO Tweet: 2 Re-Tweet 2","Author: footfingers Tweet: 20 Re-Tweet 5","Author: FriendsOfKronos Tweet: 63 Re-Tweet 18","Author: GreyCatCollectibles Tweet: 30 Re-Tweet 8","Author: grlPwrz505 Tweet: 4 Re-Tweet 2","Author: hempRules Tweet: 7 Re-Tweet 3","Author: hennyhenhendrix Tweet: 4 Re-Tweet 2","Author: HerraTomas Tweet: 3 Re-Tweet 1","Author: hngohebo_ABILAPOST Tweet: 3 Re-Tweet 1","Author: HomelandIlluminations Tweet: 65 Re-Tweet 183","Author: InternationalNews Tweet: 17 Re-Tweet 43","Author: jenny90210 Tweet: 2 Re-Tweet 2","Author: joyBubbles Tweet: 1 Re-Tweet 1","Author: junk99902 Tweet: 1 Re-Tweet 1","Author: kingWilly Tweet: 7 Re-Tweet 1","Author: KronosStar Tweet: 49 Re-Tweet 143","Author: luvwool Tweet: 2 Re-Tweet 1","Author: maha_Homeland Tweet: 25 Re-Tweet 9","Author: mamin Tweet: 2 Re-Tweet 1","Author: MarcusDrymiau Tweet: 8 Re-Tweet 2","Author: martaflores Tweet: 5 Re-Tweet 1","Author: martaO Tweet: 15 Re-Tweet 5","Author: megaMan Tweet: 106 Re-Tweet 36","Author: michelleR Tweet: 7 Re-Tweet 2","Author: MindOfKronos Tweet: 9 Re-Tweet 2","Author: NewsOnlineToday Tweet: 21 Re-Tweet 44","Author: Officia1AbilaPost Tweet: 16 Re-Tweet 6","Author: omgponies Tweet: 1 Re-Tweet 1","Author: onl1neRecords Tweet: 1 Re-Tweet 1","Author: OnlytheTruth Tweet: 17 Re-Tweet 8","Author: ourcountryourrights Tweet: 23 Re-Tweet 8","Author: panopticon Tweet: 25 Re-Tweet 7","Author: pashmina887 Tweet: 3 Re-Tweet 1","Author: POK Tweet: 67 Re-Tweet 17","Author: powercrystals Tweet: 6 Re-Tweet 1","Author: praise111 Tweet: 4 Re-Tweet 2","Author: prettyRain Tweet: 23 Re-Tweet 7","Author: protoGuy Tweet: 34 Re-Tweet 13","Author: redisrad Tweet: 16 Re-Tweet 4","Author: ReggieWassali Tweet: 14 Re-Tweet 3","Author: rockStar113 Tweet: 4 Re-Tweet 1","Author: roger_roger Tweet: 37 Re-Tweet 15","Author: Sara_Nespola Tweet: 11 Re-Tweet 4","Author: SaveOurWildlands Tweet: 26 Re-Tweet 10","Author: SiaradSea Tweet: 14 Re-Tweet 6","Author: Simon_Hamaeth Tweet: 9 Re-Tweet 5","Author: sofitees Tweet: 14 Re-Tweet 7","Author: soulofShi Tweet: 2 Re-Tweet 1","Author: starz1134 Tweet: 3 Re-Tweet 1","Author: stuffNstuff Tweet: 2 Re-Tweet 1","Author: surferMan Tweet: 2 Re-Tweet 1","Author: trapanitweets Tweet: 12 Re-Tweet 2","Author: trollingsnark Tweet: 25 Re-Tweet 7","Author: truccotrucco Tweet: 64 Re-Tweet 23","Author: truthforcadau Tweet: 12 Re-Tweet 5","Author: Viktor-E Tweet: 30 Re-Tweet 9","Author: writinLazy Tweet: 4 Re-Tweet 1"],"type":"scatter","mode":"markers","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>fig</span>
</code></pre>
</div>
<div id="htmlwidget-edafc74337960cd9b7f0" style="width:624px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-edafc74337960cd9b7f0">{"x":{"visdat":{"2f24492f5734":["function () ","plotlyVisDat"]},"cur_data":"2f24492f5734","attrs":{"2f24492f5734":{"x":{},"y":{},"text":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20]}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"retweet_ratio"},"yaxis":{"domain":[0,1],"automargin":true,"title":"tweet_scale"},"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[0.416666666666667,0.416666666666667,0.4,2.34722222222222,0.3,0.333333333333333,0.3,2.6,0.36,0.75,0.466666666666667,0.25,1,0.25,0.285714285714286,0.266666666666667,0.5,0.428571428571429,0.5,0.333333333333333,0.333333333333333,2.81538461538462,2.52941176470588,1,1,1,0.142857142857143,2.91836734693878,0.5,0.36,0.5,0.25,0.2,0.333333333333333,0.339622641509434,0.285714285714286,0.222222222222222,2.0952380952381,0.375,1,1,0.470588235294118,0.347826086956522,0.28,0.333333333333333,0.253731343283582,0.166666666666667,0.5,0.304347826086957,0.382352941176471,0.25,0.214285714285714,0.25,0.405405405405405,0.363636363636364,0.384615384615385,0.428571428571429,0.555555555555556,0.5,0.5,0.333333333333333,0.5,0.5,0.166666666666667,0.28,0.359375,0.416666666666667,0.3,0.25],"y":[-0.12829474358581,-0.12829474358581,-0.0990100738542662,0.457398651045061,-0.0502022909683603,-0.186864083048897,-0.147817856740172,0.0474132748034514,0.242644406347075,-0.206387196203259,-0.0990100738542662,-0.206387196203259,-0.225910309357621,-0.0502022909683603,0.36954464185043,0.0474132748034514,-0.206387196203259,-0.177102526471716,-0.206387196203259,-0.21614875278044,-0.21614875278044,0.389067755004793,-0.0794869606999039,-0.225910309357621,-0.235671865934803,-0.235671865934803,-0.177102526471716,0.232882849769894,-0.225910309357621,-0.00139450808245445,-0.225910309357621,-0.167340969894534,-0.196625639626078,-0.0990100738542662,0.789291574669221,-0.177102526471716,-0.157579413317353,-0.0404407343911792,-0.089248517277085,-0.235671865934803,-0.235671865934803,-0.0794869606999039,-0.0209176212368168,-0.00139450808245445,-0.21614875278044,0.408590868159155,-0.186864083048897,-0.206387196203259,-0.0209176212368168,0.0864595011121761,-0.089248517277085,-0.108771630431447,-0.206387196203259,0.11574417084372,-0.138056300162991,0.00836704849472673,-0.108771630431447,-0.157579413317353,-0.108771630431447,-0.225910309357621,-0.21614875278044,-0.225910309357621,-0.225910309357621,-0.12829474358581,-0.00139450808245445,0.379306198427611,-0.12829474358581,0.0474132748034514,-0.206387196203259],"text":["Author: AbilaAllFaith Tweet: 12 Re-Tweet 5","Author: AbilaFireDept Tweet: 12 Re-Tweet 5","Author: AbilaPoliceDepartment Tweet: 15 Re-Tweet 6","Author: AbilaPost Tweet: 72 Re-Tweet 169","Author: anaregents Tweet: 20 Re-Tweet 6","Author: brewvebeenserved Tweet: 6 Re-Tweet 2","Author: brontes_riff Tweet: 10 Re-Tweet 3","Author: CentralBulletin Tweet: 30 Re-Tweet 78","Author: choconibbs Tweet: 50 Re-Tweet 18","Author: cleaningFish Tweet: 4 Re-Tweet 3","Author: dangermice Tweet: 15 Re-Tweet 7","Author: dtrejos Tweet: 4 Re-Tweet 1","Author: ernieO Tweet: 2 Re-Tweet 2","Author: footfingers Tweet: 20 Re-Tweet 5","Author: FriendsOfKronos Tweet: 63 Re-Tweet 18","Author: GreyCatCollectibles Tweet: 30 Re-Tweet 8","Author: grlPwrz505 Tweet: 4 Re-Tweet 2","Author: hempRules Tweet: 7 Re-Tweet 3","Author: hennyhenhendrix Tweet: 4 Re-Tweet 2","Author: HerraTomas Tweet: 3 Re-Tweet 1","Author: hngohebo_ABILAPOST Tweet: 3 Re-Tweet 1","Author: HomelandIlluminations Tweet: 65 Re-Tweet 183","Author: InternationalNews Tweet: 17 Re-Tweet 43","Author: jenny90210 Tweet: 2 Re-Tweet 2","Author: joyBubbles Tweet: 1 Re-Tweet 1","Author: junk99902 Tweet: 1 Re-Tweet 1","Author: kingWilly Tweet: 7 Re-Tweet 1","Author: KronosStar Tweet: 49 Re-Tweet 143","Author: luvwool Tweet: 2 Re-Tweet 1","Author: maha_Homeland Tweet: 25 Re-Tweet 9","Author: mamin Tweet: 2 Re-Tweet 1","Author: MarcusDrymiau Tweet: 8 Re-Tweet 2","Author: martaflores Tweet: 5 Re-Tweet 1","Author: martaO Tweet: 15 Re-Tweet 5","Author: megaMan Tweet: 106 Re-Tweet 36","Author: michelleR Tweet: 7 Re-Tweet 2","Author: MindOfKronos Tweet: 9 Re-Tweet 2","Author: NewsOnlineToday Tweet: 21 Re-Tweet 44","Author: Officia1AbilaPost Tweet: 16 Re-Tweet 6","Author: omgponies Tweet: 1 Re-Tweet 1","Author: onl1neRecords Tweet: 1 Re-Tweet 1","Author: OnlytheTruth Tweet: 17 Re-Tweet 8","Author: ourcountryourrights Tweet: 23 Re-Tweet 8","Author: panopticon Tweet: 25 Re-Tweet 7","Author: pashmina887 Tweet: 3 Re-Tweet 1","Author: POK Tweet: 67 Re-Tweet 17","Author: powercrystals Tweet: 6 Re-Tweet 1","Author: praise111 Tweet: 4 Re-Tweet 2","Author: prettyRain Tweet: 23 Re-Tweet 7","Author: protoGuy Tweet: 34 Re-Tweet 13","Author: redisrad Tweet: 16 Re-Tweet 4","Author: ReggieWassali Tweet: 14 Re-Tweet 3","Author: rockStar113 Tweet: 4 Re-Tweet 1","Author: roger_roger Tweet: 37 Re-Tweet 15","Author: Sara_Nespola Tweet: 11 Re-Tweet 4","Author: SaveOurWildlands Tweet: 26 Re-Tweet 10","Author: SiaradSea Tweet: 14 Re-Tweet 6","Author: Simon_Hamaeth Tweet: 9 Re-Tweet 5","Author: sofitees Tweet: 14 Re-Tweet 7","Author: soulofShi Tweet: 2 Re-Tweet 1","Author: starz1134 Tweet: 3 Re-Tweet 1","Author: stuffNstuff Tweet: 2 Re-Tweet 1","Author: surferMan Tweet: 2 Re-Tweet 1","Author: trapanitweets Tweet: 12 Re-Tweet 2","Author: trollingsnark Tweet: 25 Re-Tweet 7","Author: truccotrucco Tweet: 64 Re-Tweet 23","Author: truthforcadau Tweet: 12 Re-Tweet 5","Author: Viktor-E Tweet: 30 Re-Tweet 9","Author: writinLazy Tweet: 4 Re-Tweet 1"],"type":"scatter","mode":"markers","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<p>I calculaed the tweets and retweets numbers and retweets ratio of a single user and plot the retweet_ratio and tweet numbers(scaled value) as a scatter plot.</p>
<p>From the chart above, we can notice that user with number of tweets does not have any retweets, such as <span class="citation" data-cites="Clevvah4Evah">@Clevvah4Evah</span>, <span class="citation" data-cites="KronosQuoth">@KronosQuoth</span> are mainly posting junk/spam blogs. On the other hand, authors with high re-tweet frequency are HomelandIlluminations, <span class="citation" data-cites="AbilaPost">@AbilaPost</span>, <span class="citation" data-cites="KronosStar">@KronosStar</span>, <span class="citation" data-cites="CentralBulletin">@CentralBulletin</span> , <span class="citation" data-cites="NewsOnlineToday">@NewsOnlineToday</span> , and <span class="citation" data-cites="InternationalNews">@InternationalNews</span>, of which the post were more active and meaningful information to the public.</p>
<p>##4.2 Use visual analytics to represent and evaluate how the level of the risk to the public evolves over the course of the evening. Consider the potential consequences of the situation and the number of people who could be affected. Please limit your answer to 10 images and 1000 words.</p>
<h3 id="risk-level">Risk Level</h3>
<h4 id="number-of-posts">Number of posts</h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>count</span> <span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'>%&gt;%</span>
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>type</span>,<span class='va'>time_1min</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>summarise</span><span class='op'>(</span>count_of_posts<span class='op'>=</span> <span class='fu'>n_distinct</span><span class='op'>(</span><span class='va'>message</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>count</span><span class='op'>$</span><span class='va'>time_1min</span><span class='op'>=</span><span class='fu'>ymd_hms</span><span class='op'>(</span><span class='va'>count</span><span class='op'>$</span><span class='va'>time_1min</span><span class='op'>)</span>
<span class='co'>#count$time_1min=format(count$time_1min,format = "%H:%M:%S") </span>

<span class='va'>mean</span><span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>count</span><span class='op'>$</span><span class='va'>count_of_posts</span><span class='op'>)</span>

<span class='fu'>ggplot</span><span class='op'>(</span><span class='va'>count</span>,<span class='fu'>aes</span><span class='op'>(</span>x<span class='op'>=</span><span class='va'>time_1min</span>,y<span class='op'>=</span><span class='va'>count_of_posts</span>,fill<span class='op'>=</span><span class='va'>type</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
         <span class='fu'>geom_bar</span><span class='op'>(</span>stat<span class='op'>=</span><span class='st'>"identity"</span>,position<span class='op'>=</span><span class='st'>"dodge"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='co'># geom_abline(h=mean, col = "black")+</span>
  <span class='fu'>theme</span><span class='op'>(</span>axis.text.x <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>angle <span class='op'>=</span> <span class='fl'>90</span>, hjust <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>ggtitle</span><span class='op'>(</span><span class='st'>"Total Number of Posts through the period"</span><span class='op'>)</span>
</code></pre>
</div>
<img src="vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-17-1.png" width="624" />
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>count</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/order.html'>order</a></span><span class='op'>(</span><span class='op'>-</span><span class='va'>count</span><span class='op'>$</span><span class='va'>count_of_posts</span><span class='op'>)</span>,<span class='op'>]</span>,<span class='fl'>10</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 10 x 3
# Groups:   type [1]
   type   time_1min           count_of_posts
   &lt;chr&gt;  &lt;dttm&gt;                       &lt;int&gt;
 1 mbdata 2014-01-23 19:43:00             61
 2 mbdata 2014-01-23 19:41:00             60
 3 mbdata 2014-01-23 19:44:00             48
 4 mbdata 2014-01-23 19:45:00             48
 5 mbdata 2014-01-23 18:47:00             47
 6 mbdata 2014-01-23 18:45:00             44
 7 mbdata 2014-01-23 18:52:00             38
 8 mbdata 2014-01-23 19:40:00             38
 9 mbdata 2014-01-23 20:10:00             38
10 mbdata 2014-01-23 19:46:00             33</code></pre>
</div>
<p>With time interval at 1 minute, the sum number of posts is plotted as above. The peaks of both ccdata and mbdata are observed during time 19:40-19:50, 18:45:00 and 20:10:00.</p>
<h4 id="number-of-retweetstweets">Number of retweets/tweets</h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>data_rt2</span><span class='op'>&lt;-</span><span class='va'>data</span> <span class='op'>%&gt;%</span> 
   <span class='co'>#filter(str_detect(message, "fire")) %&gt;% </span>
  <span class='fu'>select</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"author"</span>,<span class='st'>"time_1min"</span>,<span class='st'>"message"</span>,<span class='st'>"RT_from"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>time_1min</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>summarise</span><span class='op'>(</span>post<span class='op'>=</span><span class='fu'>n</span><span class='op'>(</span><span class='op'>)</span>,
            rt_post<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>RT_from</span><span class='op'>!=</span><span class='st'>""</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>data_rt2</span><span class='op'>$</span><span class='va'>time_1min</span><span class='op'>=</span><span class='fu'>ymd_hms</span><span class='op'>(</span><span class='va'>data_rt2</span><span class='op'>$</span><span class='va'>time_1min</span><span class='op'>)</span>


<span class='co'>#ggplot(fire,aes(x=time_1min,y=n))+</span>
         <span class='co'>#geom_bar(stat="identity",position="dodge")+</span>
  <span class='co'>#theme(axis.text.x = element_text(angle = 90, hjust = 1))+</span>
  <span class='co'>#ggtitle("Total Number of Posts through the period")</span>


<span class='fu'>ggplot</span><span class='op'>(</span><span class='va'>data_rt2</span>,<span class='fu'>aes</span><span class='op'>(</span>x<span class='op'>=</span><span class='va'>time_1min</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'>geom_bar</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>y<span class='op'>=</span><span class='va'>post</span><span class='op'>)</span>, stat <span class='op'>=</span> <span class='st'>"identity"</span>,fill <span class='op'>=</span> <span class='st'>"red"</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'>geom_bar</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>y<span class='op'>=</span><span class='va'>rt_post</span><span class='op'>)</span>, stat <span class='op'>=</span> <span class='st'>"identity"</span>,fill <span class='op'>=</span> <span class='st'>"blue"</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'>theme</span><span class='op'>(</span>axis.text.x <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>angle <span class='op'>=</span> <span class='fl'>90</span>, hjust <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
    <span class='fu'>ggtitle</span><span class='op'>(</span><span class='st'>"Tweet and Re-Tweets Trend"</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-18-1.png" width="624" /></p>
</div>
<p>Another way to detect the active level of microblog is to visualize the proportion of re-tweet/tweet. As shown in the bar graph above, the peak trend coincides with “Total Number of Posts through the period”, indicating the people are actively eveloved in the events happening in Abila.</p>
<p>The goverment can monitor the ratio of retweet in community to detect abnormal event.</p>
<h3 id="network-analysis-of-people-affected">Network Analysis of people affected</h3>
<p>At 18:25:00, user GreyCatCollectibles first posted “Smell something funny upstairs - wish this renovation work would get finished!”, followed by his post“Yuck - electrical smell is getting worse”,“OMG – really smells like smoke now” in 10 minutes, making him the first person detecting the fire at dancing dolphin.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>RT_edges_aggregated</span> <span class='op'>&lt;-</span><span class='va'>data_RT</span><span class='op'>%&gt;%</span>
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>RT_from</span>,<span class='va'>author</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>count</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>ungroup</span><span class='op'>(</span><span class='op'>)</span>

<span class='va'>RT_nodes_aggregated</span> <span class='op'>&lt;-</span><span class='va'>data</span><span class='op'>%&gt;%</span>
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>author</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>count</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='va'>ungroup</span>

<span class='co'># RT_graph &lt;- tbl_graph(nodes=RT_nodes_aggregated,</span>
<span class='co'>#                            edges = RT_edges_aggregated,</span>
<span class='co'>#                            directed = TRUE)</span>

<span class='co'># g &lt;- RT_graph %&gt;%</span>
<span class='co'>#   mutate(betweenness_centrality = centrality_betweenness()) %&gt;%</span>
<span class='co'>#   ggraph(layout = "nicely") +</span>
<span class='co'>#   geom_edge_link(color = "lightblue") +</span>
<span class='co'>#   geom_node_point(aes(color = author,size=n))+</span>
<span class='co'>#   theme(legend.position = "none")</span>
 <span class='co'># geom_node_text(aes(label = ifelse(n&gt;60,author,NA_character_)),repel=TRUE)</span>

<span class='va'>RT_nodes_aggregated</span><span class='op'>$</span><span class='va'>id</span><span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq.int</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>RT_nodes_aggregated</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>RT_nodes_aggregated</span><span class='op'>&lt;-</span><span class='va'>RT_nodes_aggregated</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>rename</span><span class='op'>(</span>label<span class='op'>=</span><span class='va'>author</span><span class='op'>)</span>

<span class='va'>RT_edges_aggregated_viz</span><span class='op'>&lt;-</span>
  <span class='fu'>left_join</span><span class='op'>(</span><span class='va'>RT_edges_aggregated</span>,<span class='va'>RT_nodes_aggregated</span>,by<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"RT_from"</span><span class='op'>=</span><span class='st'>"label"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>rename</span><span class='op'>(</span>from<span class='op'>=</span><span class='va'>id</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>left_join</span><span class='op'>(</span><span class='va'>RT_nodes_aggregated</span>,by<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"author"</span><span class='op'>=</span><span class='st'>"label"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>rename</span><span class='op'>(</span>to<span class='op'>=</span><span class='va'>id</span><span class='op'>)</span>

<span class='va'>RT_edges_aggregated_viz</span><span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span><span class='op'>(</span><span class='va'>RT_edges_aggregated_viz</span>,select<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"from"</span>,<span class='st'>"to"</span><span class='op'>)</span><span class='op'>)</span>

 <span class='fu'>visNetwork</span><span class='op'>(</span><span class='va'>RT_nodes_aggregated</span>, 
            <span class='va'>RT_edges_aggregated_viz</span> , 
            main <span class='op'>=</span> <span class='st'>"Retweet Network"</span><span class='op'>)</span><span class='op'>%&gt;%</span>
   <span class='fu'>visOptions</span><span class='op'>(</span>highlightNearest <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>%&gt;%</span>
   <span class='fu'>visNodes</span><span class='op'>(</span>label<span class='op'>=</span><span class='st'>"label"</span>,color <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>background <span class='op'>=</span> <span class='st'>"lightblue"</span>, 
                        border <span class='op'>=</span> <span class='st'>"darkblue"</span>,
                        highlight <span class='op'>=</span> <span class='st'>"yellow"</span><span class='op'>)</span><span class='op'>)</span>  <span class='op'>%&gt;%</span> 
  <span class='fu'>visIgraphLayout</span><span class='op'>(</span>layout <span class='op'>=</span> <span class='st'>"layout_with_fr"</span><span class='op'>)</span>
</code></pre>
</div>
<div id="htmlwidget-1b6e657755f981beaa7c" style="width:624px;height:384px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-1b6e657755f981beaa7c">{"x":{"nodes":{"label":["aaasTech","AbilaAllFaith","AbilaFireDept","AbilaPoliceDepartment","AbilaPost","aliceRocks","anaregents","blueSunshine","BlueVelvet","BoraVerissimo","brain448","brandonL","brewvebeenserved","brontes_riff","carjunkers","CentralBulletin","cheapgoods998","choconibbs","cleaningFish","Clevvah4Evah","cminvestments11","courage4life","creatorRocks","dangermice","deals4realz","dealsRUs101","dirtdigger334","dolls4sale","dragonRider1","dtennent","dtrejos","eazymoney","electricAvenue","eliza003","ernieO","farmboy","fictionalJoe","footfingers","FriendsOfKronos","gardener4958","grassGreeener","GreyCatCollectibles","grlPwrz505","hazMore445","hempRules","hennyhenhendrix","henri","hermanM","HerraTomas","hngohebo_ABILAPOST","HomelandIlluminations","hotdrugs225","InternationalNews","jaques","jenny90210","jgrobannne","joyBubbles","joyce101","joyousNoise","jsmith","junk99902","junkieduck113","junkman377","junkman995","katrina","kedits","kingWilly","klingon4real","KronosQuoth","KronosStar","lindyT","livin4HigherPower","lordWally","luvMyPants","luvwool","maha_Homeland","mailfoool","mainman447","mamin","MarcusDrymiau","martaflores","martaO","maskedWoman101","mattdies","meds4realz43","megaMan","michelleR","microBanana","MindOfKronos","mountain478","muppiesRock","NewsOnlineToday","ninjabob","Officia1AbilaPost","omgponies","onl1neRecords","OnlytheTruth","ourcountryourrights","panopticon","partyon","pashmina887","phantomagate","pinky","plasticParts","POK","powercrystals","praise111","prettyRain","protoGuy","pumpitup","redisrad","reggierockin776","ReggieWassali","rnbwBrite","rockinHW","rockStar113","roger_roger","rrWine","Sara_Nespola","sarajane","SaveOurWildlands","shoutItOut","SiaradSea","siliconKing","Simon_Hamaeth","sithLordJames","skinnyJeans","slamrjamr","sofitees","soulofShi","soup4u","starz1134","stolkfair","stuffNstuff","superhero447","supplementsRule","surferMan","teresaJ","trapanitweets","trollingsnark","truccotrucco","truthforcadau","unicorns","vetsRock","Viktor-E","vonneka","whiteprotein","windAvatar","wireHead1122","wiseWords","worldWatcher","writinLazy","yomamma","zengardener",null],"n":[1,12,12,15,72,3,20,27,37,2,35,17,6,10,12,30,9,50,4,153,6,16,1,15,5,6,5,25,24,32,4,9,15,3,2,21,2,20,63,25,4,30,4,1,7,4,26,1,3,3,65,5,17,25,2,22,1,25,1,2,1,5,10,10,4,5,7,23,1265,49,21,2,28,22,2,25,3,3,2,8,5,15,10,2,9,106,7,23,9,2,18,21,22,16,1,1,17,23,25,1,3,27,23,23,67,6,4,23,34,1,16,15,14,22,9,4,37,27,11,33,26,2,14,28,9,27,6,32,14,2,23,3,30,2,5,2,2,20,12,25,64,12,3,30,30,26,9,3,24,26,23,4,6,27,191],"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155],"x":[0.693106360071507,-0.120266453767251,-0.455850305714407,-0.644175931459668,-0.331049113911169,0.738316939369996,-0.606287286667698,-0.335356161173281,-0.386041261102201,0.433302903207429,-0.232135424928579,-0.41110029787995,-0.0232251542602312,-0.596785739275346,0.722386305477965,-0.348207680024179,0.0886913369850186,-0.388864280244646,0.0519997292274585,0.797456195372556,0.56393713195028,-0.242659287277058,0.836088991278881,-0.159729285503199,0.913021355916512,-0.225602005682113,0.932176544268563,-0.486925501960668,-0.497638931474004,-0.280964562524414,0.195005791274818,0.638019508950371,-0.276591471551723,0.96704746833801,-0.806224906771631,-0.385701242528162,0.78836917558924,-0.0396009327420658,-0.313100138240194,-0.416116220907616,0.989947203721376,-0.429633786056416,-0.113826902883963,-0.072281744073556,-0.478741020875425,-0.0868703543662466,-0.454226144667625,-0.554864954168102,-0.172715390763788,0.0379534746895374,-0.328017620573804,0.652185028384025,-0.307105658979973,-0.227055953501482,-0.540927704713055,-0.519434447880991,-0.786203925815046,-0.348876162163699,0.959468022312076,0.866976114086949,-0.564323377108135,-0.883328090785061,0.149998516040861,0.0312310626160912,0.230909935154342,0.760026772212054,-0.32413171164952,-0.51313307434258,-1,-0.346878691730484,-0.33276644045601,1,-0.425735607195052,-0.473217324136319,0.181046764282782,-0.240115384516457,0.481828488810128,0.768984294349746,0.2204853560912,-0.71681787347237,-0.638057533885045,-0.240913723358837,0.870069002990913,-0.220004004754943,0.260016348181885,-0.28870697945747,-0.772054709199018,-0.530941863769532,-0.646542207037171,0.861658417122809,-0.0771928537147463,-0.34663363619644,-0.167995967623408,-0.225827526082083,0.185868711430758,-0.105186756773128,-0.346922627429436,-0.103093715329879,-0.0778794596598362,-0.688995601262016,-0.699989511073843,-0.311594577828831,-0.176349562721279,-0.210694051298208,-0.41676042692048,-0.193662305524701,0.102152773972173,-0.632360004320798,-0.297687724681975,0.733825069685332,-0.529418285383629,0.33278917328634,-0.489828783874072,-0.25990895960548,-0.362626840769355,-0.873104106631093,-0.361795526233866,-0.14201856201014,-0.391165493443277,-0.461114497088052,-0.388530643791936,0.61348753454799,-0.27306698547821,-0.46369914546702,-0.458456034296907,-0.552680775339264,-0.521389507496724,-0.434570574460504,-0.604047084051887,0.217278471376845,-0.503963996307089,0.0915416274509326,-0.438296817278099,-0.329022932479023,0.812133574324999,-0.385382651923445,0.130687889759007,-0.271872461555625,-0.052441019017439,-0.113936359838072,-0.348546901355868,-0.558229119936214,-0.747595390117989,-0.177091924823078,-0.240160850658856,-0.168394672864495,-0.0688580298253609,0.533917741700088,-0.177614209975893,-0.172599008510314,-0.128853721649268,-0.450068087567081,0.526279711801287,-0.33133176967498,0.374896525869538],"y":[0.459826955459701,-0.498915863586488,-0.511882152434108,-0.272039471117885,-0.328535443955568,-0.632340182289198,-0.517048709231761,-0.476878180408711,-0.136162355357782,0.707827391033688,-0.421727524177449,-0.535334152028853,-0.0117821744662155,-0.225637173956402,0.140279936666817,-0.305648557077414,0.975567094194603,-0.22463675524379,-0.292146129776014,-0.448639884611364,0.592545085405708,-0.205182502658062,0.457918554282431,-0.530457781062432,0.316273964873274,0.819327503320783,-0.478705050703606,-0.150849611006297,-0.21547023820396,-0.389924082433016,-0.677665068135673,0.307905990070973,-0.481710928237441,-0.322426256045026,-0.219885681666078,-0.475719859303812,0.276223832425389,-0.387485241070085,-0.25483573875973,-0.129066982532067,-0.0104817014594494,-0.200212706186637,0.0551188910937461,0.860462856110928,0.0497842310593624,-0.721188338323883,-0.420266860663638,0.790118283903307,-0.878164099399686,-0.725837542694975,-0.307653226013211,-0.873157380102978,-0.307490085564546,-0.286331186469119,-0.849690909480296,-0.292982852737332,0.0510001741268034,-0.417137408974093,0.164667748098452,-0.14645207304321,0.240441315493301,0.691178812973195,0.838835256090382,0.760408677192234,0.695149246893411,-0.777543849522011,-0.840885359176526,-0.381030302986711,0.564774429584866,-0.323910807645746,-0.136722055861523,-0.174123387389127,-0.382139088265192,-0.321974513427037,-0.565943512781677,-0.149969382380111,0.838455270609719,-0.0529530560151393,-0.488987692147491,-0.536098510943063,0.208542084863613,0.0319364571897323,-0.628378892097387,0.978447991004284,0.943258825598958,-0.284727122983956,-0.533299540908527,-0.354679776514092,0.00954342242617989,0.0674920731783422,-0.464445935656161,-0.289056040026471,-0.325307237311023,-0.56843794978827,-0.0796468393204293,0.222086199367686,-0.37216644763296,-0.310490416456618,-0.551305040491681,0.85137915149397,0.162027761491905,-0.170616418894739,-0.288680991273884,-0.453657429292232,-0.307613995299429,0.250143245505052,-0.217321287903374,-0.375512244690932,-0.212166071458661,0.605716220365753,-0.0126647260872365,0.827282770832356,-0.639834576421555,-0.0951053215587799,0.975140746772966,-0.401356994369829,-0.222273357105205,-0.349019216705522,-0.661797792003543,-0.0987734084550117,-0.393452228154698,0.725185710881798,-0.657614110411765,-0.253822661102318,-0.584865678266667,-0.262841508892658,0.930362839744303,-0.453258223815218,-0.145134910476148,-0.374128436516972,-0.466258588039388,0.0750869829576988,-0.281077431293942,0.26356821310683,-0.296070906741776,0.829351795988759,-0.0844397089029842,-0.545405731747916,-0.113390251340021,-0.240277928414399,-0.246425064629892,-0.506303276084602,0.732586266428442,-0.429756075926077,-0.33787583769983,-0.17160707240372,1,-1,-0.260493611279322,-0.203640669419181,-0.394123822776071,0.215169605052113,0.450686491617772,-0.0880903739183809,0.577639302980555]},"edges":{"from":[2,2,2,2,3,3,3,3,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,7,7,7,7,13,13,14,14,14,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,19,19,19,24,24,24,24,24,24,24,31,35,35,38,38,38,38,38,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,42,42,42,42,42,42,42,42,43,43,45,45,45,46,46,49,50,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,55,57,61,67,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,75,76,76,76,76,76,76,76,76,76,79,80,80,81,82,82,82,82,82,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,87,87,89,89,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,94,94,94,94,94,94,95,96,97,97,97,97,97,97,97,97,98,98,98,98,98,98,98,99,99,99,99,99,99,101,105,105,105,105,105,105,105,105,105,105,105,105,105,105,105,105,106,107,107,108,108,108,108,108,108,109,109,109,109,109,109,109,109,109,109,111,111,111,111,113,113,113,116,117,117,117,117,117,117,117,117,117,117,117,117,119,119,119,119,121,121,121,121,121,121,121,121,121,123,123,123,123,123,125,125,125,125,125,129,129,129,129,129,129,130,132,134,137,139,139,140,140,140,140,140,140,140,141,141,141,141,141,141,141,141,141,141,141,141,141,141,141,141,141,141,142,142,142,142,142,145,145,145,145,145,145,145,145,152],"to":[73,103,138,149,30,88,102,138,29,58,68,88,120,126,8,9,11,12,22,28,29,30,33,36,40,47,54,56,58,68,71,73,74,88,91,93,102,103,104,114,118,120,124,126,128,131,133,138,144,146,149,150,151,154,12,56,58,73,103,114,58,128,154,8,9,11,12,22,29,30,33,36,40,47,54,58,68,71,73,74,93,102,103,114,118,120,124,126,128,131,133,144,146,149,151,154,28,29,40,47,68,71,73,74,103,104,114,126,149,150,154,103,144,146,36,58,118,138,144,149,151,91,56,126,11,54,58,91,150,9,11,29,30,36,54,88,93,104,114,120,124,133,144,150,154,9,28,30,40,56,88,102,151,102,150,9,124,154,138,144,138,104,8,9,11,12,22,28,29,30,33,36,40,47,54,56,58,68,71,73,74,88,91,93,102,103,104,114,118,120,124,126,128,131,133,144,146,149,150,151,154,8,9,11,22,29,47,54,56,58,68,73,74,88,91,93,102,103,104,114,120,124,128,133,144,149,150,151,154,12,28,120,8,8,9,11,12,22,28,29,33,36,40,47,54,56,58,68,71,73,74,88,91,93,102,103,104,114,118,120,124,126,128,131,133,138,144,146,149,150,151,154,151,8,28,40,54,71,102,114,118,149,151,88,128,120,114,120,146,150,154,8,9,12,22,30,33,40,56,58,68,71,93,102,104,114,118,124,133,146,150,151,154,88,131,9,29,8,9,11,22,28,29,30,36,54,56,68,71,88,93,102,103,104,114,124,126,128,133,138,146,149,150,151,33,36,58,103,128,151,150,114,28,30,54,58,68,118,131,146,9,11,58,104,144,149,150,11,33,91,93,118,138,120,9,12,22,28,29,58,68,74,88,114,120,124,128,131,138,150,114,93,150,29,36,73,88,126,133,28,74,118,120,124,133,138,146,149,150,28,40,102,124,11,68,128,68,9,29,47,54,56,88,93,103,118,120,124,149,11,47,131,138,8,54,73,74,120,128,131,138,150,12,104,128,138,144,8,12,33,73,124,9,28,29,73,74,120,118,146,154,149,11,154,22,30,73,102,146,150,151,9,22,29,33,54,56,71,73,88,102,103,114,120,126,128,144,149,150,8,36,73,74,124,8,9,11,74,133,144,146,149,9]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","label":"label","color":{"background":"lightblue","border":"darkblue","highlight":"yellow"},"physics":false},"manipulation":{"enabled":false},"edges":{"smooth":false},"physics":{"stabilization":false}},"groups":null,"width":null,"height":null,"idselection":{"enabled":false,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":{"text":"Retweet Network","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:20px;text-align:center;"},"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"igraphlayout":{"type":"square"}},"evals":[],"jsHooks":[]}</script>
</div>
<p>Visnetwork packages in R provided interactive capability for network visualization. For the plot above, click the nodes and zoom in the graph, the selected node and its network will be highlighted, which can provided the information of how many people are directly affected by the original author. By using force-directed layout algorithm, the authors in the center like <span class="citation" data-cites="HomelandIlluminations">@HomelandIlluminations</span>/<span class="citation" data-cites="AbilaPost">@AbilaPost</span>/<span class="citation" data-cites="KronosStar">@KronosStar</span>/<span class="citation" data-cites="CentralBulletin">@CentralBulletin</span>/<span class="citation" data-cites="NewsOnlineToday">@NewsOnlineToday</span>/<span class="citation" data-cites="InternationalNews">@InternationalNews</span> have affected the public most directly and widely.</p>
<h4 id="monitor-important-news-source---mainstream-media">Monitor important news source - Mainstream media</h4>
<p>Noticed that the mainstream media (with name starting with capital letter and frequently re-tweet by public) are actively quoted media for Abila.</p>
<p><span class="citation" data-cites="HomelandIlluminations">@HomelandIlluminations</span>/<span class="citation" data-cites="AbilaPost">@AbilaPost</span>/<span class="citation" data-cites="KronosStar">@KronosStar</span>/<span class="citation" data-cites="CentralBulletin">@CentralBulletin</span>/<span class="citation" data-cites="NewsOnlineToday">@NewsOnlineToday</span>/<span class="citation" data-cites="InternationalNews">@InternationalNews</span> are top6 social media in area of Abila. Their tweet should be closely monitored by local authorities, in particular, when the frequency of re-tweet from the public has raised.</p>
<p>For instance, to understand people’s attehntion of the abnormal events, we can monitor the words and its relationships in main stream media’s re-tweets.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># check if the media is mainstream media</span>

<span class='va'>data_RT</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>RT_from</span><span class='op'>!=</span><span class='va'>author</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>count</span><span class='op'>(</span><span class='va'>RT_from</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>arrange</span><span class='op'>(</span><span class='fu'>desc</span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>&gt;</span><span class='fl'>40</span><span class='op'>)</span> <span class='co'># filter the retweet over 10 times by public</span>
</code></pre>
</div>
<pre><code>                 RT_from   n
1: HomelandIlluminations 183
2:             AbilaPost 169
3:            KronosStar 143
4:       CentralBulletin  78
5:       NewsOnlineToday  44
6:     InternationalNews  43</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#convert dataframe to corpus</span>

<span class='va'>data_RT_main</span><span class='op'>&lt;-</span><span class='va'>data</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>RT_from</span><span class='op'>==</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"HomelandIlluminations"</span>,<span class='st'>"AbilaPost"</span>,
                    <span class='st'>"KronosStar"</span>,<span class='st'>"CentralBulletin"</span>,
                    <span class='st'>"NewsOnlineToday"</span>,<span class='st'>"InternationalNews"</span><span class='op'>)</span><span class='op'>)</span>


<span class='va'>data_RT_main</span><span class='op'>$</span><span class='va'>id</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq.int</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>data_RT_main</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>data_RT_subset</span><span class='op'>&lt;-</span><span class='va'>data_RT_main</span> <span class='op'>%&gt;%</span> <span class='fu'>select</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"id"</span>,<span class='st'>"RT_message"</span><span class='op'>)</span><span class='op'>)</span>


<span class='va'>data_RT_subset</span><span class='op'>$</span><span class='va'>RT_message_cleaned</span><span class='op'>&lt;-</span>
  <span class='fu'><a href='https://rdrr.io/r/base/chartr.html'>tolower</a></span><span class='op'>(</span><span class='va'>data_RT_subset</span><span class='op'>$</span><span class='va'>RT_message</span><span class='op'>)</span><span class='op'>%&gt;%</span>   <span class='co'># transform all message to lower cases</span>
  <span class='fu'>replace_contraction</span><span class='op'>(</span><span class='op'>)</span><span class='op'>%&gt;%</span>   <span class='co'>#replace contractions with long form</span>
  <span class='fu'>replace_word_elongation</span><span class='op'>(</span><span class='op'>)</span><span class='op'>%&gt;%</span> 
  <span class='fu'>str_replace_all</span><span class='op'>(</span><span class='st'>"[0-9]"</span>, <span class='st'>""</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='co'>#removing numbers</span>
  <span class='fu'>str_replace_all</span><span class='op'>(</span><span class='st'>"([,=!.?$+%-&amp;#@])"</span>,<span class='st'>""</span><span class='op'>)</span><span class='op'>%&gt;%</span> <span class='co'>#remove punctuations</span>
  <span class='fu'>str_replace_all</span><span class='op'>(</span><span class='st'>"abila|abilapost|centralbulletin|kronosstar|pok|rally"</span>,<span class='st'>""</span><span class='op'>)</span><span class='op'>%&gt;%</span> 
  <span class='fu'>removeWords</span><span class='op'>(</span><span class='fu'>stopwords</span><span class='op'>(</span><span class='st'>"english"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>%&gt;%</span> 
  <span class='fu'>str_squish</span><span class='op'>(</span><span class='op'>)</span><span class='op'>%&gt;%</span> 
  <span class='va'>str_trim</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>lemmatize_strings</span><span class='op'>(</span><span class='op'>)</span>


<span class='va'>x</span><span class='op'>&lt;-</span><span class='va'>data_RT_subset</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>unnest_tokens</span><span class='op'>(</span><span class='va'>word</span>, <span class='va'>RT_message_cleaned</span><span class='op'>)</span>

<span class='va'>x</span><span class='op'>&lt;-</span><span class='fu'>cooccurrence</span><span class='op'>(</span><span class='va'>x</span>, group <span class='op'>=</span> <span class='st'>"id"</span>, term <span class='op'>=</span> <span class='st'>"word"</span><span class='op'>)</span>

<span class='va'>plt</span> <span class='op'>&lt;-</span> <span class='fu'>textplot_cooccurrence</span><span class='op'>(</span><span class='va'>x</span>,
                             title <span class='op'>=</span> <span class='st'>"Re-tweet Co-occurrences"</span>, top_n <span class='op'>=</span> <span class='fl'>150</span><span class='op'>)</span>

<span class='va'>plt</span>
</code></pre>
</div>
<p><img src="vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-20-1.png" width="624" /></p>
</div>
<p>In the retweet from the main media, high occurrence of fire at dolphin apartement has the most co-occurrence re-tweets, indicating highest attention and risk in the community, followed by several events involved with police such as post of pokrally/ arrive at scene. While in the edge of the visualization, we can found that the small group of public was interested in re-tweet firefighter injure at hospital/ suspect arrest, which has less risk in the community.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># RT_edges_aggregated &lt;- RT_edges_aggregated %&gt;%</span>
<span class='co'>#   rename(from = RT_from,to=author,Weight=n)</span>
<span class='co'># </span>
<span class='co'># RT_nodes_aggregated &lt;-RT_nodes_aggregated %&gt;% </span>
<span class='co'>#   rename(to=author,Weight=n)</span>
<span class='co'># </span>
<span class='co'># </span>
<span class='co'># visNetwork(RT_nodes_aggregated, </span>
<span class='co'>#            RT_edges_aggregated )</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># data_RT %&gt;%</span>
<span class='co'>#   group_by(RT_from,RT_message,author) %&gt;%</span>
<span class='co'>#   count(timestamp) %&gt;%</span>
<span class='co'>#   ungroup()</span>
<span class='co'># </span>
<span class='co'># </span>
<span class='co'># RT_edges_aggregated &lt;- data_RT %&gt;%</span>
<span class='co'>#   group_by(message,author) %&gt;%</span>
<span class='co'>#     summarise(Weight = n()) %&gt;%</span>
<span class='co'>#   filter(Weight &gt;= 1) %&gt;%</span>
<span class='co'>#   ungroup()</span>
<span class='co'># </span>
<span class='co'># </span>
<span class='co'># RT_graph &lt;- tbl_graph(</span>
<span class='co'>#                            edges = RT_edges_aggregated,</span>
<span class='co'>#                            directed = TRUE)</span>
<span class='co'># </span>
<span class='co'># g &lt;- ggraph(RT_graph,</span>
<span class='co'>#             layout = "nicely") +</span>
<span class='co'>#   geom_edge_link() +</span>
<span class='co'>#   geom_node_point()</span>
<span class='co'># g</span>
<span class='co'>#   </span>
</code></pre>
</div>
</div>
<p>messages from call center</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># packages= c('raster','sf','clock','tmap','tidyverse')</span>
<span class='co'># </span>
<span class='co'># for(p in packages){</span>
<span class='co'>#   if(!require(p,character.only= T)){</span>
<span class='co'>#     install.packages(p)</span>
<span class='co'>#     }</span>
<span class='co'>#   library(p, character.only = T)</span>
<span class='co'># }</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># bgmap&lt;- raster("data/MC3/Geospatial/MC2-tourist.tif")</span>
<span class='co'># bgmap</span>
<span class='co'># </span>
<span class='co'># tmap_mode("plot") #interactive view</span>
<span class='co'># </span>
<span class='co'># tm_shape(bgmap) +</span>
<span class='co'>#   tm_rgb(bgmap, r=1, g=2, b=3,</span>
<span class='co'>#          alpha=NA,</span>
<span class='co'>#          saturation = 1,</span>
<span class='co'>#          interpolate = TRUE,</span>
<span class='co'>#          max.value = 255)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># cc_data&lt;-data %&gt;% </span>
<span class='co'>#   filter(type=="ccdata")</span>
<span class='co'># </span>
<span class='co'># docs &lt;- Corpus(VectorSource(as.character(cc_data$cleaned)))</span>
<span class='co'># </span>
<span class='co'># inspect(docs[1:2])</span>
<span class='co'># </span>
<span class='co'># # Create a document-term-matrix</span>
<span class='co'># </span>
<span class='co'># dtm &lt;- TermDocumentMatrix(docs) </span>
<span class='co'># matrix &lt;- as.matrix(dtm) </span>
<span class='co'># words &lt;- sort(rowSums(matrix),decreasing=TRUE) </span>
<span class='co'># </span>
<span class='co'># # words and frequency dataframe</span>
<span class='co'># df &lt;- data.frame(word = names(words),freq=words)</span>
<span class='co'># </span>
<span class='co'># #word cloud</span>
<span class='co'># wordcloud(words = df$word, freq = df$freq, min.freq = 5,           max.words=200, random.order=FALSE, rot.per=0.35,            colors=brewer.pal(8, "Dark2"))</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># write.csv(data,"data/data.csv")</span>
</code></pre>
</div>
</div>
<p>Then, frequency of the author</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># groupby_author&lt;-data %&gt;% </span>
<span class='co'>#   group_by(author) %&gt;% </span>
<span class='co'>#   count %&gt;% </span>
<span class='co'>#   ungroup</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># data_2&lt;-data %&gt;%</span>
<span class='co'>#      group_by(author) %&gt;%</span>
<span class='co'>#      dplyr::summarise(all_posts=paste(message, collapse=" "))</span>
<span class='co'># </span>
<span class='co'># sotu_firsts_nouns &lt;- PrepText(data_2, groupvar = "author", textvar = "all_posts", node_type = "groups", tokenizer = "tweets", pos = "nouns", remove_stop_words = FALSE, compound_nouns = TRUE)</span>

<span class='co'># &lt;- PrepTextSent(data_2, groupvar = "author", textvar = "cleaned", node_type = "groups", </span>
                                      <span class='co'>#tokenizer = "words", sentiment_lexicon = "afinn", language = "english", udmodel_lang = #udmodel_lang, remove_numbers = NULL, compound_nouns = TRUE)</span>

<span class='co'># sotu_firsts_network &lt;- CreateTextnet(sotu_firsts_nouns)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#VisTextNet(sotu_firsts_network,label_degree_cut = 0)</span>
<span class='co'># VisTextNetD3(sotu_firsts_network)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># sotu_firsts_communities &lt;- TextCommunities(sotu_firsts_network)</span>
<span class='co'># top_words_modularity_classes &lt;- InterpretText(sotu_firsts_network, sotu_firsts_nouns)</span>
<span class='co'># text_centrality &lt;- TextCentrality(sotu_firsts_network)</span>
</code></pre>
</div>
</div>
<p>#4.3 If you were able to send a team of first responders to any single place, where would it be? Provide your rationale. How might your response be different if you had to respond to the events in real time rather than retrospectively? Please limit your answer to 8 images and 500 words</p>
<p>critize ccdata #Reference</p>
<p>Junghoon Chae, Dennis Thom, Yun Jang, SungYe Kim, Thomas Ertl, David S. Ebert, Public behavior response analysis in disaster events utilizing visual analytics of microblog data,Computers &amp; Graphics,Volume 38,2014,Pages 51-60,ISSN 0097-8493,<a href="https://doi.org/10.1016/j.cag.2013.10.008" class="uri">https://doi.org/10.1016/j.cag.2013.10.008</a>.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
