<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
<title>Linya Huang:  VAST Challenge 2021 -Mini-Challenge 3</title>

<meta property="description" itemprop="description" content="A short description of the post."/>


<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2021-07-03"/>
<meta property="article:created" itemprop="dateCreated" content="2021-07-03"/>
<meta name="article:author" content="Linya Huang"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="Linya Huang:  VAST Challenge 2021 -Mini-Challenge 3"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="A short description of the post."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="Linya Huang"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary"/>
<meta property="twitter:title" content="Linya Huang:  VAST Challenge 2021 -Mini-Challenge 3"/>
<meta property="twitter:description" content="A short description of the post."/>

<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output"]}},"value":[{"type":"character","attributes":{},"value":[" VAST Challenge 2021 -Mini-Challenge 3"]},{"type":"character","attributes":{},"value":["A short description of the post."]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Linya Huang"]},{"type":"character","attributes":{},"value":["https://www.linkedin.com/in/linya-huang/"]}]}]},{"type":"character","attributes":{},"value":["07-03-2021"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["toc","toc_depth","self_contained"]}},"value":[{"type":"logical","attributes":{},"value":[true]},{"type":"integer","attributes":{},"value":[6]},{"type":"logical","attributes":{},"value":[false]}]}]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["data/data.csv","data/MC3/10 year historical document.pdf","data/MC3/AnswerSheet/~$ST Challenge 2021 MC3 Answer Sheet.htm","data/MC3/AnswerSheet/VAST Challenge 2021 MC3 Answer Sheet.htm","data/MC3/AnswerSheet/VAST Challenge 2021 MC3 Answer Sheet_files/colorschememapping.xml","data/MC3/AnswerSheet/VAST Challenge 2021 MC3 Answer Sheet_files/filelist.xml","data/MC3/AnswerSheet/VAST Challenge 2021 MC3 Answer Sheet_files/themedata.thmx","data/MC3/csv-1700-1830.csv","data/MC3/csv-1831-2000.csv","data/MC3/csv-2001-2131.csv","data/MC3/Geospatial/Abila.dbf","data/MC3/Geospatial/Abila.kml","data/MC3/Geospatial/Abila.prj","data/MC3/Geospatial/Abila.sbn","data/MC3/Geospatial/Abila.sbx","data/MC3/Geospatial/Abila.shp","data/MC3/Geospatial/Abila.shx","data/MC3/Geospatial/Kronos Island.kmz","data/MC3/Geospatial/Kronos_Island.dbf","data/MC3/Geospatial/Kronos_Island.prj","data/MC3/Geospatial/Kronos_Island.sbn","data/MC3/Geospatial/Kronos_Island.sbx","data/MC3/Geospatial/Kronos_Island.shp","data/MC3/Geospatial/Kronos_Island.shx","data/MC3/Geospatial/MC2-tourist.tif","data/MC3/History of the Protectors of Kronos.pdf","data/MC3/MC3_data_readme.docx","english-ewt-ud-2.5-191206.udpipe","image/Abnormality of the first topic.jpg","image/Distribution of Twitter users of each consecutive date.jpg","image/Re-tweet network.png","image/S0097849313001490.txt","image/Spatial pattern of Twitter users.jpg","image/Spatial user-based Tweet distribution in the Manhattan area.jpg","image/Textnet.png","report.html","vast-challenge-2021-mini-challenge-2_files/anchor-4.2.2/anchor.min.js","vast-challenge-2021-mini-challenge-2_files/bowser-1.9.3/bowser.min.js","vast-challenge-2021-mini-challenge-2_files/d3-4.5.0/d3.min.js","vast-challenge-2021-mini-challenge-2_files/d3-4.5.0/LICENSE","vast-challenge-2021-mini-challenge-2_files/distill-2.2.21/template.v2.js","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-11-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-12-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-13-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-15-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-16-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-17-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-19-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-20-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-23-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-24-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-26-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-5-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-8-1.png","vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-9-1.png","vast-challenge-2021-mini-challenge-2_files/forceNetwork-binding-0.4/forceNetwork.js","vast-challenge-2021-mini-challenge-2_files/htmlwidgets-1.5.3/htmlwidgets.js","vast-challenge-2021-mini-challenge-2_files/jquery-1.11.3/jquery.min.js","vast-challenge-2021-mini-challenge-2_files/popper-2.6.0/popper.min.js","vast-challenge-2021-mini-challenge-2_files/tippy-6.2.7/tippy-bundle.umd.min.js","vast-challenge-2021-mini-challenge-2_files/tippy-6.2.7/tippy-light-border.css","vast-challenge-2021-mini-challenge-2_files/tippy-6.2.7/tippy.css","vast-challenge-2021-mini-challenge-2_files/tippy-6.2.7/tippy.umd.min.js","vast-challenge-2021-mini-challenge-2_files/webcomponents-2.0.0/webcomponents.js","vast-challenge-2021-mini-challenge-2_files/wordcloud2-0.0.1/hover.js","vast-challenge-2021-mini-challenge-2_files/wordcloud2-0.0.1/wordcloud.css","vast-challenge-2021-mini-challenge-2_files/wordcloud2-0.0.1/wordcloud2-all.js","vast-challenge-2021-mini-challenge-2_files/wordcloud2-binding-0.2.1/wordcloud2.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure img {
  width: 100%;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<!--/radix_placeholder_distill-->
  <script src="../../site_libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
  <script src="../../site_libs/plotly-binding-4.9.3/plotly.js"></script>
  <script src="../../site_libs/typedarray-0.1/typedarray.min.js"></script>
  <script src="../../site_libs/jquery-3.5.1/jquery.min.js"></script>
  <link href="../../site_libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
  <script src="../../site_libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
  <link href="../../site_libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet" />
  <script src="../../site_libs/plotly-main-1.57.1/plotly-latest.min.js"></script>
  <script src="../../site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="../../site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="../../site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="../../site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":" VAST Challenge 2021 -Mini-Challenge 3","description":"A short description of the post.","authors":[{"author":"Linya Huang","authorURL":"https://www.linkedin.com/in/linya-huang/","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2021-07-03T00:00:00.000+08:00","citationText":"Huang, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="../../index.html" class="title">Linya Huang</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../index.html">Home</a>
<a href="../../about.html">About</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>VAST Challenge 2021 -Mini-Challenge 3</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>A short description of the post.</p></p>
</div>

<div class="d-byline">
  Linya Huang <a href="https://www.linkedin.com/in/linya-huang/" class="uri">https://www.linkedin.com/in/linya-huang/</a> 
  
<br/>07-03-2021
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#introduction">1.Introduction</a></li>
<li><a href="#literature-review">2.Literature Review</a><ul>
<li><a href="#spatiotemporal-abnormal-detection">Spatiotemporal Abnormal Detection</a></li>
<li><a href="#junkspam-detection">Junk/Spam Detection</a></li>
<li><a href="#section"></a></li>
</ul></li>
<li><a href="#data-preprocessing-and-exploratory">3.Data Preprocessing and Exploratory</a><ul>
<li><a href="#import-packages-and-social-media-stream-data">3.1 Import packages and social media stream data</a></li>
<li><a href="#change-date-type">3.2 Change date type</a></li>
<li><a href="#text-data-preprocessing">3.3 Text Data Preprocessing</a></li>
</ul></li>
<li><a href="#data-visualization-for-challenge-questions">4.Data Visualization for Challenge Questions</a><ul>
<li><a href="#using-visual-analytics-characterize-the-different-types-of-content-in-the-dataset.-what-distinguishes-meaningful-event-reports-from-typical-chatter-from-junk-or-spam-please-limit-your-answer-to-8-images-and-500-words.">4.1 Using visual analytics, characterize the different types of content in the dataset. What distinguishes meaningful event reports from typical chatter from junk or spam? Please limit your answer to 8 images and 500 words.</a></li>
</ul></li>
</ul>
</nav>
</div>
<h1 id="introduction">1.Introduction</h1>
<p>In this report, I will use visual analytics techniques in R to solve questions from <a href="https://vast-challenge.github.io/2021/MC3.html">VAST Challenge 2021: Mini-Challenge 3</a>. The main data set are 1)microblog records that have been identified by automated filters as being potentially relevant to the ongoing incident and 2)text transcripts of emergency dispatches by the Abila, Kronos local police and fire departments.</p>
<h1 id="literature-review">2.Literature Review</h1>
<p>Detecting abnormal events ,such as disaster or crisis, from microblog social media has become a trend, as social media has played a pervasive role in the way people behave and think. Nowadays, people are also using time-stamped , geo -located data to share live information about whats happening in their surroundings, which enables the public, government and researches to sense abnormal events in community more quickly and take immediate actions.</p>
<h2 id="spatiotemporal-abnormal-detection">Spatiotemporal Abnormal Detection</h2>
<p>The study from Junghoon et al.(2014) applied spatiotemporal visualization of microblog data to detect disaster and support decisions. The visualization they applied are shown as below,</p>
<p><img src="image/Distribution%20of%20Twitter%20users%20of%20each%20consecutive%20date.jpg" alt="Distribution of Twitter users of each consecutive date" /> The number of Twitter users who posted Twitter messages containing one of the following keywords: hurricane, storm, and sandy is highly related to Hurricane Sandy (as shown in blue pins and blue lines of the center locations)</p>
<p>Then their study also analyzed spatial pattern of Twitter users after the tornado.</p>
<p><img src="image/Spatial%20pattern%20of%20Twitter%20users.jpg" alt="Spatial pattern of Twitter users during 24 h in the city of Moore after damages from a strong tornado." /> (1)the heatmap shows a normal situation of Twitter user distribution in the same area of which the distribution is very different from the situation after the tornado event. As such, the spatial analytics can help with disaster management according to twitter heatmap distribution.</p>
<p>Besides, the abnormality score are calculated with Latent Dirichlet Allocation (LDA) topic modeling and Seasonal-Trend Decomposition to detect severe weather condition.</p>
<figure>
<img src="image/Abnormality%20of%20the%20first%20topic.jpg" alt="" /><figcaption>Abnormality of the first topic</figcaption>
</figure>
<p>Given the limitation of MC3 data set, we cannot visualize spatial heatmap, but we can try to leverage on LDA modeling and abnormality detection methodology to detect the crisis in Abila community.</p>
<h2 id="junkspam-detection">Junk/Spam Detection</h2>
<p>In <a href="http://visualdata.wustl.edu/varepository/VAST%20Challenge%202014/challenges/MC3%20-%20Real-Time,%20Streaming%20Social%20Media/">Visual Analytics Benchmark Repository 2014</a>, the submission from <a href="http://visualdata.wustl.edu/varepository/VAST%20Challenge%202014/challenges/MC3%20-%20Real-Time,%20Streaming%20Social%20Media/entries/Tianjin%20University/">Tianjin University</a> demonstrated a network approach in identifying junk tweet.</p>
<p><img src="image/Re-tweet%20network.png" alt="Retweet Network" /> They think the size of the nodes represents the number of the blog being post. Notice that there are several nodes which have the larger size but no relationship with others which means theirs blogs are ignored by others.. This is a very good intuition to visualize center and edges microblog user.</p>
<p>However, if we can consider the correlation of text in two blogs would be better.</p>
<h2 id="section"></h2>
<p><a href="https://github.com/cbail/textnets">Textnets</a> is a R package for automated text analysis using network techniques.It provides network for both text and text entities, which provides visualization ability to uncover correlation of texts in documents.</p>
<figure>
<img src="image/Textnet.png" alt="" /><figcaption>Textnet with R</figcaption>
</figure>
<p>This visualization can be applied in the question 2 in answering the potential consequences of the situation and the number of people who could be affected via network graph.</p>
<h1 id="data-preprocessing-and-exploratory">3.Data Preprocessing and Exploratory</h1>
<h2 id="import-packages-and-social-media-stream-data">3.1 Import packages and social media stream data</h2>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>packages</span><span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'raster'</span>,<span class='st'>'sf'</span>,<span class='st'>'clock'</span>,<span class='st'>'tmap'</span>,
            <span class='st'>'tidyverse'</span>,<span class='st'>'data.table'</span>,<span class='st'>'lubridate'</span>,
            <span class='st'>'textclean'</span>,<span class='st'>'tm'</span>,<span class='st'>'wordcloud'</span>,<span class='st'>'wordcloud2'</span>,<span class='st'>'text2vec'</span>,
            <span class='st'>'topicmodels'</span>,<span class='st'>'tidytext'</span>,<span class='st'>'textmineR'</span>,<span class='st'>'quanteda'</span>,
            <span class='st'>'BTM'</span>,<span class='st'>'textplot'</span>,<span class='st'>'concaveman'</span>,<span class='st'>'ggwordcloud'</span>,
            <span class='st'>'qdapDictionaries'</span>,<span class='st'>'textstem'</span>,<span class='st'>'devtools'</span>,<span class='st'>'textnets'</span>,
            <span class='st'>'ggiraph'</span>,<span class='st'>'plotly'</span>,<span class='st'>'igraph'</span>, <span class='st'>'tidygraph'</span>, 
             <span class='st'>'ggraph'</span>, <span class='st'>'visNetwork'</span>,<span class='st'>'udpipe'</span><span class='op'>)</span>

<span class='kw'>for</span><span class='op'>(</span><span class='va'>p</span> <span class='kw'>in</span> <span class='va'>packages</span><span class='op'>)</span><span class='op'>{</span>
  <span class='kw'>if</span><span class='op'>(</span><span class='op'>!</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='va'>p</span>,character.only<span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
    <span class='fu'><a href='https://rdrr.io/r/utils/install.packages.html'>install.packages</a></span><span class='op'>(</span><span class='va'>p</span><span class='op'>)</span>
    <span class='op'>}</span>
  <span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>p</span>, character.only <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span>
<span class='op'>}</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#install.packages("devtools")</span>
<span class='co'>#install_github("cbail/textnets")</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#read csv file</span>
<span class='va'>data_17_1830</span><span class='op'>=</span><span class='fu'>read_csv</span><span class='op'>(</span><span class='st'>"data/MC3/csv-1700-1830.csv"</span><span class='op'>)</span>
<span class='va'>data_1830_20</span><span class='op'>=</span><span class='fu'>read_csv</span><span class='op'>(</span><span class='st'>"data/MC3/csv-1831-2000.csv"</span><span class='op'>)</span>
<span class='va'>data_20_2130</span><span class='op'>=</span><span class='fu'>read_csv</span><span class='op'>(</span><span class='st'>"data/MC3/csv-2001-2131.csv"</span><span class='op'>)</span>

<span class='co'>#append 3 dataset</span>

<span class='va'>data</span><span class='op'>=</span><span class='fu'>rbindlist</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'>data_17_1830</span>,<span class='va'>data_1830_20</span>,<span class='va'>data_20_2130</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'>#print head of data</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>     type date(yyyyMMddHHmmss)              author
1: mbdata         2.014012e+13                 POK
2: mbdata         2.014012e+13       maha_Homeland
3: mbdata         2.014012e+13            Viktor-E
4: mbdata         2.014012e+13          KronosStar
5: mbdata         2.014012e+13           AbilaPost
6: mbdata         2.014012e+13 ourcountryourrights
                                                                                                              message
1:                                                                                              Follow us @POK-Kronos
2:                                       Don&#39;t miss a moment!  Follow our live coverage of the POK Rally in the Park!
3:                                                        Come join us in the Park! Music tonight at Abila City Park!
4:          POK rally to start in Abila City Park. POK leader Sylvia Marek to open with a speech.&lt;U+0098&gt; #KronosStar
5: POK rally set to take place in Abila City Park - POK leader Sylvia Marek has begun with opening remarks #AbilaPost
6:                                                                           POK rally in the park tonight! #POKrally
   latitude longitude location
1:       NA        NA     &lt;NA&gt;
2:       NA        NA     &lt;NA&gt;
3:       NA        NA     &lt;NA&gt;
4:       NA        NA     &lt;NA&gt;
5:       NA        NA     &lt;NA&gt;
6:       NA        NA     &lt;NA&gt;</code></pre>
</div>
<h2 id="change-date-type">3.2 Change date type</h2>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#timestamp in lubridate</span>
<span class='va'>data</span><span class='op'>$</span><span class='va'>timestamp</span> <span class='op'>&lt;-</span> <span class='fu'>ymd_hms</span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>`date(yyyyMMddHHmmss)`</span><span class='op'>)</span>

<span class='va'>data</span><span class='op'>$</span><span class='va'>time_1min</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/cut.html'>cut</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>timestamp</span>, breaks<span class='op'>=</span><span class='st'>"1 min"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h2 id="text-data-preprocessing">3.3 Text Data Preprocessing</h2>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>rt</span> <span class='op'>&lt;-</span> <span class='st'>"RT @([A-Za-z]+[A-Za-z0-9_-]+)(?![A-Za-z0-9_]*\\.)"</span>
<span class='va'>ppl</span> <span class='op'>&lt;-</span> <span class='st'>"@([A-Za-z]+[A-Za-z0-9_-]+)(?![A-Za-z0-9_]*\\.)"</span>
<span class='va'>hash</span> <span class='op'>&lt;-</span> <span class='st'>"#([A-Za-z]+[A-Za-z0-9_]+)(?![A-Za-z0-9_]*\\.)"</span>

<span class='va'>data</span><span class='op'>$</span><span class='va'>cleaned</span><span class='op'>&lt;-</span><span class='va'>data</span><span class='op'>$</span><span class='va'>message</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>str_replace_all</span><span class='op'>(</span><span class='va'>rt</span>,<span class='st'>""</span><span class='op'>)</span><span class='op'>%&gt;%</span>
  <span class='fu'>str_replace_all</span><span class='op'>(</span><span class='va'>ppl</span>,<span class='st'>""</span><span class='op'>)</span><span class='op'>%&gt;%</span>
  <span class='fu'>str_replace_all</span><span class='op'>(</span><span class='va'>hash</span>,<span class='st'>""</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/base/chartr.html'>tolower</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>%&gt;%</span>   <span class='co'># transform all message to lower cases</span>
  <span class='fu'>replace_contraction</span><span class='op'>(</span><span class='op'>)</span><span class='op'>%&gt;%</span>   <span class='co'>#replace contractions with long form</span>
  <span class='fu'>replace_word_elongation</span><span class='op'>(</span><span class='op'>)</span><span class='op'>%&gt;%</span> <span class='co'>#remove the same letter (case insensitive) appears 3 times consecutively</span>
  <span class='fu'>str_replace_all</span><span class='op'>(</span><span class='st'>"[0-9]"</span>, <span class='st'>""</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='co'>#removing numbers</span>
  <span class='fu'>str_replace_all</span><span class='op'>(</span><span class='st'>"([,=!.?$+%-&amp;])"</span>,<span class='st'>""</span><span class='op'>)</span><span class='op'>%&gt;%</span> <span class='co'>#remove punctuations</span>
  <span class='co'>#str_replace_all("rt|pokrally|kronosstar","")%&gt;%</span>
  <span class='co'>#|#hi|#pok|#pokrally|</span>
  <span class='co'># #abilapost|#kronosstar|#centralbulletin|@centralbulletin|@kronosstar|rally|aliba") #remove hashtag and rt</span>
  <span class='fu'>removeWords</span><span class='op'>(</span><span class='fu'>stopwords</span><span class='op'>(</span><span class='st'>"english"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>%&gt;%</span> 
  <span class='fu'>str_squish</span><span class='op'>(</span><span class='op'>)</span><span class='op'>%&gt;%</span> <span class='co'>#trim whitespace from a string </span>
  <span class='fu'>lemmatize_strings</span><span class='op'>(</span><span class='op'>)</span><span class='co'>#removes whitespace from start and end of string</span>



<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span><span class='op'>(</span><span class='va'>data</span>,select<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"message"</span>,<span class='st'>"cleaned"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>                                                                                                              message
1:                                                                                              Follow us @POK-Kronos
2:                                       Don&#39;t miss a moment!  Follow our live coverage of the POK Rally in the Park!
3:                                                        Come join us in the Park! Music tonight at Abila City Park!
4:          POK rally to start in Abila City Park. POK leader Sylvia Marek to open with a speech.&lt;U+0098&gt; #KronosStar
5: POK rally set to take place in Abila City Park - POK leader Sylvia Marek has begun with opening remarks #AbilaPost
6:                                                                           POK rally in the park tonight! #POKrally
                                                                                cleaned
1:                                                                            follow us
2:                                      miss moment follow live coverage pok rally park
3:                                      come join us park music tonight abila city park
4:          pok rally start abila city park pok leader sylvia marek open speech&lt;U+FFFD&gt;
5: pok rally set take place abila city park - pok leader sylvia marek begin open remark
6:                                                               pok rally park tonight</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>data</span><span class='op'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>cleaned</span><span class='op'>==</span><span class='st'>""</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>      type date(yyyyMMddHHmmss)              author
 1: mbdata         2.014012e+13        truccotrucco
 2: mbdata         2.014012e+13        OnlytheTruth
 3: mbdata         2.014012e+13       AbilaFireDept
 4: mbdata         2.014012e+13        phantomagate
 5: mbdata         2.014012e+13            redisrad
 6: mbdata         2.014012e+13            redisrad
 7: mbdata         2.014012e+13              martaO
 8: mbdata         2.014012e+13            redisrad
 9: mbdata         2.014012e+13 GreyCatCollectibles
10: mbdata         2.014012e+13          prettyRain
11: mbdata         2.014012e+13            redisrad
12: mbdata         2.014012e+13       AbilaAllFaith
13: mbdata         2.014012e+13        phantomagate
14: mbdata         2.014012e+13             teresaJ
15: mbdata         2.014012e+13            redisrad
16: mbdata         2.014012e+13          dolls4sale
                                                     message latitude
 1:              #RememberJuliana #RememberElian #VivaSylvia   36.052
 2:                                     Nooo don&#39;t #putitout       NA
 3:                                                        ?       NA
 4:                                      RT @AbilaFireDept ?       NA
 5:                                            #ominousknock       NA
 6:                                                  #yessir       NA
 7:                 #wheezy #panickattak #worstfirstdateever       NA
 8:                                               #butwhere2       NA
 9:                                                 #sososad       NA
10:                                            it&#39;s over!!!!       NA
11:                        #checkin #ouzerielian #comeondown       NA
12:                   We are here for you in you #hourofneed       NA
13:           RT @redisrad #checkin #ouzerielian #comeondown       NA
14: RT @AbilaAllFaith We are here for you in you #hourofneed       NA
15:                                     What was that? #boom       NA
16:                        RT @redisrad What was that? #boom       NA
    longitude location           timestamp           time_1min
 1:    24.852     &lt;NA&gt; 2014-01-23 17:33:00 2014-01-23 17:33:00
 2:        NA     &lt;NA&gt; 2014-01-23 18:47:09 2014-01-23 18:47:00
 3:        NA     &lt;NA&gt; 2014-01-23 18:50:21 2014-01-23 18:50:00
 4:        NA     &lt;NA&gt; 2014-01-23 18:53:21 2014-01-23 18:53:00
 5:        NA     &lt;NA&gt; 2014-01-23 19:39:07 2014-01-23 19:39:00
 6:        NA     &lt;NA&gt; 2014-01-23 19:40:00 2014-01-23 19:40:00
 7:        NA     &lt;NA&gt; 2014-01-23 19:40:00 2014-01-23 19:40:00
 8:        NA     &lt;NA&gt; 2014-01-23 19:45:00 2014-01-23 19:45:00
 9:        NA     &lt;NA&gt; 2014-01-23 19:47:00 2014-01-23 19:47:00
10:        NA     &lt;NA&gt; 2014-01-23 21:20:50 2014-01-23 21:20:00
11:        NA     &lt;NA&gt; 2014-01-23 21:27:12 2014-01-23 21:27:00
12:        NA     &lt;NA&gt; 2014-01-23 21:27:12 2014-01-23 21:27:00
13:        NA     &lt;NA&gt; 2014-01-23 21:28:12 2014-01-23 21:28:00
14:        NA     &lt;NA&gt; 2014-01-23 21:29:12 2014-01-23 21:29:00
15:        NA     &lt;NA&gt; 2014-01-23 21:30:00 2014-01-23 21:30:00
16:        NA     &lt;NA&gt; 2014-01-23 21:34:00 2014-01-23 21:34:00
    cleaned
 1:        
 2:        
 3:        
 4:        
 5:        
 6:        
 7:        
 8:        
 9:        
10:        
11:        
12:        
13:        
14:        
15:        
16:        </code></pre>
</div>
retrive RT from message
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>regex</span> <span class='op'>&lt;-</span> <span class='st'>"RT @([A-Za-z]+[A-Za-z0-9_-]+)(?![A-Za-z0-9_]*\\.)"</span>
<span class='va'>regex2</span> <span class='op'>&lt;-</span> <span class='st'>"@([A-Za-z]+[A-Za-z0-9_-]+)(?![A-Za-z0-9_]*\\.)"</span>
<span class='va'>regex3</span> <span class='op'>&lt;-</span> <span class='st'>"RT @([A-Za-z]+[A-Za-z0-9_-]+)(?![A-Za-z0-9_]*\\.) "</span>
<span class='va'>regex4</span> <span class='op'>&lt;-</span> <span class='st'>"#([A-Za-z]+[A-Za-z0-9_]+)(?![A-Za-z0-9_]*\\.)"</span>

<span class='va'>data</span><span class='op'>$</span><span class='va'>RT_pattern</span><span class='op'>&lt;-</span><span class='fu'>str_extract_all</span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>message</span>, <span class='va'>regex</span>, simplify <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='va'>data</span><span class='op'>$</span><span class='va'>RT_from</span><span class='op'>&lt;-</span>  <span class='fu'>str_extract_all</span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>RT_pattern</span>, <span class='va'>regex2</span>, simplify <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='va'>data</span><span class='op'>$</span><span class='va'>RT_from</span><span class='op'>&lt;-</span>  <span class='fu'>str_replace</span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>RT_from</span>, <span class='st'>"@"</span>,<span class='st'>""</span><span class='op'>)</span>
<span class='va'>data</span><span class='op'>$</span><span class='va'>RT_message</span> <span class='op'>&lt;-</span> <span class='fu'>str_replace_all</span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>message</span>,<span class='va'>regex3</span>,<span class='st'>""</span><span class='op'>)</span>

<span class='va'>data</span><span class='op'>$</span><span class='va'>hashtag</span> <span class='op'>&lt;-</span> <span class='fu'>str_extract_all</span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>message</span>, <span class='va'>regex2</span>, simplify <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
<span class='va'>data</span><span class='op'>$</span><span class='va'>user_mentioned</span> <span class='op'>&lt;-</span> <span class='fu'>str_extract_all</span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>message</span>, <span class='va'>regex4</span>, simplify <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>


<span class='va'>data_RT</span><span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>RT_from</span><span class='op'>!=</span><span class='st'>""</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>     type date(yyyyMMddHHmmss)              author
1: mbdata         2.014012e+13                 POK
2: mbdata         2.014012e+13       maha_Homeland
3: mbdata         2.014012e+13            Viktor-E
4: mbdata         2.014012e+13          KronosStar
5: mbdata         2.014012e+13           AbilaPost
6: mbdata         2.014012e+13 ourcountryourrights
                                                                                                              message
1:                                                                                              Follow us @POK-Kronos
2:                                       Don&#39;t miss a moment!  Follow our live coverage of the POK Rally in the Park!
3:                                                        Come join us in the Park! Music tonight at Abila City Park!
4:          POK rally to start in Abila City Park. POK leader Sylvia Marek to open with a speech.&lt;U+0098&gt; #KronosStar
5: POK rally set to take place in Abila City Park - POK leader Sylvia Marek has begun with opening remarks #AbilaPost
6:                                                                           POK rally in the park tonight! #POKrally
   latitude longitude location           timestamp
1:       NA        NA     &lt;NA&gt; 2014-01-23 17:00:00
2:       NA        NA     &lt;NA&gt; 2014-01-23 17:00:00
3:       NA        NA     &lt;NA&gt; 2014-01-23 17:00:00
4:       NA        NA     &lt;NA&gt; 2014-01-23 17:00:00
5:       NA        NA     &lt;NA&gt; 2014-01-23 17:00:00
6:       NA        NA     &lt;NA&gt; 2014-01-23 17:00:00
             time_1min
1: 2014-01-23 17:00:00
2: 2014-01-23 17:00:00
3: 2014-01-23 17:00:00
4: 2014-01-23 17:00:00
5: 2014-01-23 17:00:00
6: 2014-01-23 17:00:00
                                                                                cleaned
1:                                                                            follow us
2:                                      miss moment follow live coverage pok rally park
3:                                      come join us park music tonight abila city park
4:          pok rally start abila city park pok leader sylvia marek open speech&lt;U+FFFD&gt;
5: pok rally set take place abila city park - pok leader sylvia marek begin open remark
6:                                                               pok rally park tonight
   RT_pattern RT_from
1:                   
2:                   
3:                   
4:                   
5:                   
6:                   
                                                                                                           RT_message
1:                                                                                              Follow us @POK-Kronos
2:                                       Don&#39;t miss a moment!  Follow our live coverage of the POK Rally in the Park!
3:                                                        Come join us in the Park! Music tonight at Abila City Park!
4:          POK rally to start in Abila City Park. POK leader Sylvia Marek to open with a speech.&lt;U+FFFD&gt; #KronosStar
5: POK rally set to take place in Abila City Park - POK leader Sylvia Marek has begun with opening remarks #AbilaPost
6:                                                                           POK rally in the park tonight! #POKrally
       hashtag user_mentioned
1: @POK-Kronos               
2:                           
3:                           
4:                #KronosStar
5:                 #AbilaPost
6:                  #POKrally</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#convert dataframe to corpus</span>
<span class='va'>docs</span> <span class='op'>&lt;-</span> <span class='fu'>Corpus</span><span class='op'>(</span><span class='fu'>VectorSource</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>cleaned</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>

<span class='fu'>inspect</span><span class='op'>(</span><span class='va'>docs</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>2</span><span class='op'>]</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>&lt;&lt;SimpleCorpus&gt;&gt;
Metadata:  corpus specific: 1, document level (indexed): 0
Content:  documents: 2

[1] follow us                                      
[2] miss moment follow live coverage pok rally park</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Create a document-term-matrix</span>

<span class='va'>dtm</span> <span class='op'>&lt;-</span> <span class='fu'>TermDocumentMatrix</span><span class='op'>(</span><span class='va'>docs</span><span class='op'>)</span> 
<span class='va'>matrix</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>dtm</span><span class='op'>)</span> 
<span class='va'>words</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/sort.html'>sort</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/colSums.html'>rowSums</a></span><span class='op'>(</span><span class='va'>matrix</span><span class='op'>)</span>,decreasing<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span> 

<span class='co'># words and frequency dataframe</span>
<span class='va'>df</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>word <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>words</span><span class='op'>)</span>,freq<span class='op'>=</span><span class='va'>words</span><span class='op'>)</span>

<span class='co'>#word cloud</span>
<span class='fu'>wordcloud</span><span class='op'>(</span>words <span class='op'>=</span> <span class='va'>df</span><span class='op'>$</span><span class='va'>word</span>, freq <span class='op'>=</span> <span class='va'>df</span><span class='op'>$</span><span class='va'>freq</span>, min.freq <span class='op'>=</span> <span class='fl'>5</span>,           max.words<span class='op'>=</span><span class='fl'>200</span>, random.order<span class='op'>=</span><span class='cn'>FALSE</span>, rot.per<span class='op'>=</span><span class='fl'>0.35</span>,            colors<span class='op'>=</span><span class='fu'>brewer.pal</span><span class='op'>(</span><span class='fl'>8</span>, <span class='st'>"Dark2"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<img src="vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-8-1.png" width="624" />
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#wordcloud2(data=df, size=1.6, color='random-dark')</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#as_datetime(data$time_1min)</span>
<span class='va'>data</span><span class='op'>$</span><span class='va'>timestamp</span> <span class='op'>&lt;-</span> <span class='fu'>ymd_hms</span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>`date(yyyyMMddHHmmss)`</span><span class='op'>)</span>
<span class='va'>data</span><span class='op'>$</span><span class='va'>time_30min</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/cut.html'>cut</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>timestamp</span>, breaks<span class='op'>=</span><span class='st'>"30 min"</span><span class='op'>)</span>
<span class='va'>data</span><span class='op'>$</span><span class='va'>id</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq.int</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>data_subset</span><span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span><span class='op'>(</span><span class='va'>data</span>,select<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"time_30min"</span>,<span class='st'>"cleaned"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>words_count</span><span class='op'>&lt;-</span><span class='va'>data_subset</span><span class='op'>%&gt;%</span> 
  <span class='fu'>unnest_tokens</span><span class='op'>(</span><span class='va'>word</span>, <span class='va'>cleaned</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>count</span><span class='op'>(</span><span class='va'>time_30min</span>,<span class='va'>word</span>, sort <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h1 id="data-visualization-for-challenge-questions">4.Data Visualization for Challenge Questions</h1>
<h2 id="using-visual-analytics-characterize-the-different-types-of-content-in-the-dataset.-what-distinguishes-meaningful-event-reports-from-typical-chatter-from-junk-or-spam-please-limit-your-answer-to-8-images-and-500-words.">4.1 Using visual analytics, characterize the different types of content in the dataset. What distinguishes meaningful event reports from typical chatter from junk or spam? Please limit your answer to 8 images and 500 words.</h2>
<p>First the data is split by 30 minutes time interval and perform wordcloud, to visualize the most frequent words in the microblog.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>data</span><span class='op'>$</span><span class='va'>timestamp</span> <span class='op'>&lt;-</span> <span class='fu'>ymd_hms</span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>`date(yyyyMMddHHmmss)`</span><span class='op'>)</span>
<span class='va'>data</span><span class='op'>$</span><span class='va'>time_30min</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/cut.html'>cut</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>timestamp</span>, breaks<span class='op'>=</span><span class='st'>"30 min"</span><span class='op'>)</span>
<span class='va'>data</span><span class='op'>$</span><span class='va'>id</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq.int</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>data_subset</span><span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span><span class='op'>(</span><span class='va'>data</span>,select<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"time_30min"</span>,<span class='st'>"cleaned"</span><span class='op'>)</span><span class='op'>)</span>


<span class='va'>usenet_words</span><span class='op'>&lt;-</span><span class='va'>data_subset</span><span class='op'>%&gt;%</span>
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>time_30min</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>unnest_tokens</span><span class='op'>(</span><span class='va'>word</span>, <span class='va'>cleaned</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>count</span><span class='op'>(</span><span class='va'>time_30min</span>,<span class='va'>word</span>, sort <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>


<span class='va'>usenet_words</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/order.html'>order</a></span><span class='op'>(</span><span class='va'>usenet_words</span><span class='op'>$</span><span class='va'>time_30min</span><span class='op'>)</span>,<span class='op'>]</span>
</code></pre>
</div>
<pre><code># A tibble: 6,975 x 3
# Groups:   time_30min [10]
   time_30min          word       n
   &lt;fct&gt;               &lt;chr&gt;  &lt;int&gt;
 1 2014-01-23 17:00:00 pok       98
 2 2014-01-23 17:00:00 rally     76
 3 2014-01-23 17:00:00 people    44
 4 2014-01-23 17:00:00 park      40
 5 2014-01-23 17:00:00 jakab     37
 6 2014-01-23 17:00:00 lucio     35
 7 2014-01-23 17:00:00 police    35
 8 2014-01-23 17:00:00 can       34
 9 2014-01-23 17:00:00 abila     30
10 2014-01-23 17:00:00 sylvia    30
# ... with 6,965 more rows</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>1234</span><span class='op'>)</span>
<span class='va'>usenet_words</span> <span class='op'>%&gt;%</span>
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>time_30min</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>slice_max</span><span class='op'>(</span>order_by <span class='op'>=</span> <span class='va'>n</span>, n <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
<span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>label <span class='op'>=</span> <span class='va'>word</span>,
           size <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_text_wordcloud</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>theme_minimal</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>facet_wrap</span><span class='op'>(</span><span class='op'>~</span><span class='va'>time_30min</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-11-1.png" width="624" /></p>
</div>
<p>From the visualization, we can tell the main content discussing in the community are</p>
<p>1700-1830 pok rally in park with several name mentioned such as cylvia, jakab, viktor 1830-1930 fire at dancing dolphin partment, police and evacuation. 1930-2000 shooting and cops/police 2100-2130 van/ hostage/ explosion</p>
<p>Then, by applying Term Frequency  Inverse document frequency (tf-idf) to bigram texts, we can uncover more information compared with unigrams.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>bigrams</span> <span class='op'>&lt;-</span> <span class='va'>data_subset</span><span class='op'>%&gt;%</span>
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>time_30min</span><span class='op'>)</span><span class='op'>%&gt;%</span>
  <span class='fu'>unnest_tokens</span><span class='op'>(</span><span class='va'>word</span>, 
                <span class='va'>cleaned</span>, 
                token <span class='op'>=</span> <span class='st'>"ngrams"</span>, 
                n <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>count</span><span class='op'>(</span><span class='va'>time_30min</span>,<span class='va'>word</span>, sort <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>


<span class='va'>tf_idf</span> <span class='op'>&lt;-</span> <span class='va'>bigrams</span><span class='op'>%&gt;%</span>
  <span class='fu'>bind_tf_idf</span><span class='op'>(</span><span class='va'>word</span>,<span class='va'>time_30min</span>, <span class='va'>n</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>arrange</span><span class='op'>(</span><span class='fu'>desc</span><span class='op'>(</span><span class='va'>tf_idf</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>tf_idf</span> <span class='op'>%&gt;%</span>
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>time_30min</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>slice_max</span><span class='op'>(</span><span class='va'>tf_idf</span>,
            n <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>ungroup</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>word <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/reorder.factor.html'>reorder</a></span><span class='op'>(</span><span class='va'>word</span>,
                        <span class='va'>tf_idf</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span><span class='va'>tf_idf</span>,
             <span class='va'>word</span>,
             fill <span class='op'>=</span> <span class='va'>time_30min</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_col</span><span class='op'>(</span>show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>facet_wrap</span><span class='op'>(</span><span class='op'>~</span> <span class='va'>time_30min</span>,
             scales <span class='op'>=</span> <span class='st'>"free"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>x <span class='op'>=</span> <span class='st'>"tf-idf bigram"</span>,
       y <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-12-1.png" width="624" /></p>
</div>
<p>Without having to process more on data, the contents of the microblogs with 30 mins time interval is even more informative. For instance, from 1700-1800, we know that police presense at pok rally and Dr.Audrey is mentioned several times from 1800. Then from 1830 , fire occurs at dolphin apartment and followed by evacuation. Then, from 1930, a shot/gun fire happened with police involved, followed by injured firefighter and hospitalization. And from 2100 suspects were arrested and followed by an explosion at dolphin apartment from 2130 onward.</p>
<p>Then, to distinguish meaningful events from chatter/junk/spam messages, I will then perform topic modeling to identify topic in each microblogs.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>wordcorpus</span> <span class='op'>&lt;-</span> <span class='fu'>Corpus</span><span class='op'>(</span><span class='fu'>VectorSource</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>cleaned</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>  
<span class='va'>dtm</span> <span class='op'>&lt;-</span> <span class='fu'>DocumentTermMatrix</span><span class='op'>(</span><span class='va'>wordcorpus</span>,
                          control <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
                            wordLengths<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>, <span class='cn'>Inf</span><span class='op'>)</span>,               <span class='co'># limit word length</span>
                            bounds <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>global <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>5</span>,<span class='cn'>Inf</span><span class='op'>)</span><span class='op'>)</span>,    <span class='co'># minimum word frequency</span>
                            removeNumbers <span class='op'>=</span> <span class='cn'>TRUE</span>,                <span class='co'>#remove Numbers</span>
                            weighting <span class='op'>=</span> <span class='va'>weightTf</span>,                <span class='co'>#weighted term frequency</span>
                            encoding <span class='op'>=</span> <span class='st'>"UTF-8"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>rowTotals</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/apply.html'>apply</a></span><span class='op'>(</span><span class='va'>dtm</span> , <span class='fl'>1</span>, <span class='va'>sum</span><span class='op'>)</span> <span class='co'>#Find the sum of words in each Document</span>
<span class='va'>dtm.new</span>   <span class='op'>&lt;-</span> <span class='va'>dtm</span><span class='op'>[</span><span class='va'>rowTotals</span><span class='op'>&gt;</span> <span class='fl'>0</span>, <span class='op'>]</span> <span class='co'>#remove 0 dtm rows of matrix</span>

<span class='va'>topic</span><span class='op'>=</span><span class='fu'>LDA</span><span class='op'>(</span><span class='va'>dtm.new</span>,k<span class='op'>=</span><span class='fl'>10</span>,method<span class='op'>=</span><span class='st'>"Gibbs"</span>,conrol<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>seed<span class='op'>=</span><span class='fl'>2021</span>,alpha<span class='op'>=</span><span class='fl'>0.01</span>,iter<span class='op'>=</span><span class='fl'>200</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Top five words in each topics</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/stats/terms.html'>terms</a></span><span class='op'>(</span><span class='va'>topic</span>,<span class='fl'>5</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>     Topic 1  Topic 2      Topic 3   Topic 4 Topic 5 Topic 6
[1,] &quot;go&quot;     &quot;can&quot;        &quot;fire&quot;    &quot;life&quot;  &quot;van&quot;   &quot;think&quot;
[2,] &quot;get&quot;    &quot;people&quot;     &quot;dance&quot;   &quot;thing&quot; &quot;just&quot;  &quot;want&quot; 
[3,] &quot;viktor&quot; &quot;one&quot;        &quot;dolphin&quot; &quot;find&quot;  &quot;cop&quot;   &quot;never&quot;
[4,] &quot;dr&quot;     &quot;say&quot;        &quot;build&quot;   &quot;live&quot;  &quot;run&quot;   &quot;work&quot; 
[5,] &quot;newman&quot; &quot;successful&quot; &quot;unit&quot;    &quot;great&quot; &quot;shoot&quot; &quot;look&quot; 
     Topic 7    Topic 8 Topic 9  Topic 10 
[1,] &quot;police&quot;   &quot;good&quot;  &quot;pok&quot;    &quot;take&quot;   
[2,] &quot;scene&quot;    &quot;time&quot;  &quot;abila&quot;  &quot;make&quot;   
[3,] &quot;evacuate&quot; &quot;stop&quot;  &quot;rally&quot;  &quot;success&quot;
[4,] &quot;hostage&quot;  &quot;give&quot;  &quot;park&quot;   &quot;two&quot;    
[5,] &quot;area&quot;     &quot;start&quot; &quot;sylvia&quot; &quot;failure&quot;</code></pre>
</div>
<p>Extract per-topic-per-word probabilities ,(beta), from the model. The higher the value, the more important of the words to the topic.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>ap_topics</span> <span class='op'>&lt;-</span> <span class='fu'>tidy</span><span class='op'>(</span><span class='va'>topic</span>, matrix <span class='op'>=</span> <span class='st'>"beta"</span><span class='op'>)</span>


<span class='va'>ap_top_terms</span> <span class='op'>&lt;-</span> <span class='va'>ap_topics</span> <span class='op'>%&gt;%</span>
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>topic</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>slice_max</span><span class='op'>(</span><span class='va'>beta</span>, n <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ungroup</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>arrange</span><span class='op'>(</span><span class='va'>topic</span>, <span class='op'>-</span><span class='va'>beta</span><span class='op'>)</span>

<span class='va'>ap_top_terms</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>term <span class='op'>=</span> <span class='fu'>reorder_within</span><span class='op'>(</span><span class='va'>term</span>, <span class='va'>beta</span>, <span class='va'>topic</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span><span class='va'>beta</span>, <span class='va'>term</span>, fill <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>topic</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_col</span><span class='op'>(</span>show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>facet_wrap</span><span class='op'>(</span><span class='op'>~</span> <span class='va'>topic</span>, scales <span class='op'>=</span> <span class='st'>"free"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>scale_y_reordered</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-15-1.png" width="624" /></p>
</div>
<p>As shown above, the meaningful keywords can be found in each topic.</p>
<p>Topic 1 - police related as words mentioning police/standoff/crowd Topic 5 - several pok leaders are mentioned Topic 6 - resident evacuation and hostages Topic 9 - fire at dancing dolphin topic 10- van/ shoot/ guy</p>
<p>While other topics are more chatter/junk related.</p>
By using gamma, we can then assign each document with a topic
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>topic_gamma</span> <span class='op'>&lt;-</span> <span class='fu'>tidy</span><span class='op'>(</span><span class='va'>topic</span>, matrix <span class='op'>=</span> <span class='st'>"gamma"</span><span class='op'>)</span>
<span class='va'>topic_gamma</span> <span class='op'>&lt;-</span> <span class='va'>topic_gamma</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>document</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>slice</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/which.min.html'>which.max</a></span><span class='op'>(</span><span class='va'>gamma</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>topic_gamma</span><span class='op'>$</span><span class='va'>document</span><span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='va'>topic_gamma</span><span class='op'>$</span><span class='va'>document</span><span class='op'>)</span> 
<span class='va'>topic_gamma</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/order.html'>order</a></span><span class='op'>(</span><span class='va'>topic_gamma</span><span class='op'>$</span><span class='va'>document</span><span class='op'>)</span>,<span class='op'>]</span> <span class='op'>%&gt;%</span> <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>topic</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>count</span><span class='op'>(</span><span class='op'>)</span> 
</code></pre>
</div>
<pre><code># A tibble: 10 x 2
# Groups:   topic [10]
   topic     n
   &lt;int&gt; &lt;int&gt;
 1     1   662
 2     2   500
 3     3   528
 4     4   460
 5     5   439
 6     6   354
 7     7   294
 8     8   290
 9     9   229
10    10   264</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>topic_gamma</span><span class='op'>%&gt;%</span> <span class='fu'>arrange</span><span class='op'>(</span><span class='fu'>desc</span><span class='op'>(</span><span class='op'>-</span><span class='va'>document</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 6 x 3
# Groups:   document [6]
  document topic gamma
     &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt;
1        1     4 0.115
2        2     4 0.140
3        3     9 0.186
4        4     9 0.258
5        5     9 0.292
6        6     9 0.148</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>id_time</span> <span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'>%&gt;%</span> <span class='fu'>select</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"id"</span>,<span class='st'>"time_1min"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>topic_data</span><span class='op'>&lt;-</span><span class='fu'>left_join</span><span class='op'>(</span><span class='va'>topic_gamma</span>,<span class='va'>id_time</span>,by<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"document"</span><span class='op'>=</span><span class='st'>"id"</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'>#manually put topics in LDA results</span>

<span class='va'>topic_c</span><span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>2</span>,<span class='fl'>3</span>,<span class='fl'>4</span>,<span class='fl'>5</span>,<span class='fl'>6</span>,<span class='fl'>7</span>,<span class='fl'>8</span>,<span class='fl'>9</span>,<span class='fl'>10</span><span class='op'>)</span>  
<span class='va'>topics_c</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"police related"</span>,<span class='st'>"chatter1"</span>,<span class='st'>"chatter2"</span>,<span class='st'>"chatter3"</span>,<span class='st'>"POK leaders"</span>,
<span class='st'>"evacuation &amp; hostages"</span>,<span class='st'>"chatter4"</span>,<span class='st'>"junk"</span>,<span class='st'>"fire"</span>,<span class='st'>"van"</span><span class='op'>)</span>
<span class='va'>topic_df</span><span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span><span class='va'>topic_c</span>,<span class='va'>topics_c</span> <span class='op'>)</span>

<span class='va'>topic_data</span><span class='op'>&lt;-</span><span class='fu'>left_join</span><span class='op'>(</span><span class='va'>topic_data</span>,<span class='va'>topic_df</span>,by<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"topic"</span><span class='op'>=</span><span class='st'>"topic_c"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>topic_data</span> <span class='op'>%&gt;%</span> <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>time_1min</span>,<span class='va'>topics_c</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>count</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>x<span class='op'>=</span><span class='va'>time_1min</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>geom_bar</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>y<span class='op'>=</span><span class='va'>n</span><span class='op'>)</span>, stat <span class='op'>=</span> <span class='st'>"identity"</span>,fill <span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>facet_wrap</span><span class='op'>(</span><span class='op'>~</span><span class='va'>topics_c</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>ggtitle</span><span class='op'>(</span><span class='st'>"Topics Trend"</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-17-1.png" width="624" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/unique.html'>unique</a></span><span class='op'>(</span><span class='va'>topic_data</span><span class='op'>$</span><span class='va'>topics_c</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code> [1] &quot;chatter3&quot;              &quot;fire&quot;                 
 [3] &quot;junk&quot;                  &quot;police related&quot;       
 [5] &quot;chatter1&quot;              &quot;van&quot;                  
 [7] &quot;POK leaders&quot;           &quot;evacuation &amp; hostages&quot;
 [9] &quot;chatter2&quot;              &quot;chatter4&quot;             </code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#Tokenize data</span>
<span class='va'>tidytxtdata</span><span class='op'>&lt;-</span> <span class='fu'>tidy</span><span class='op'>(</span><span class='va'>dtm</span><span class='op'>)</span>
                    
<span class='va'>tidytxtdata</span> <span class='op'>&lt;-</span> <span class='va'>tidytxtdata</span><span class='op'>%&gt;%</span> <span class='co'>#Remove the count column</span>
  <span class='fu'>select</span><span class='op'>(</span><span class='op'>-</span><span class='va'>count</span><span class='op'>)</span>
<span class='va'>tidytxtdata</span> <span class='op'>&lt;-</span> <span class='va'>tidytxtdata</span><span class='op'>%&gt;%</span> <span class='co'>#Change the column name 'term' to 'word' so that we can get rid of stopwords later</span>
  <span class='fu'>rename</span><span class='op'>(</span>word <span class='op'>=</span> <span class='va'>term</span><span class='op'>)</span>


<span class='co'>#Remove stopwords</span>
<span class='va'>tidytxtdata</span> <span class='op'>&lt;-</span> <span class='va'>tidytxtdata</span><span class='op'>%&gt;%</span>
  <span class='fu'>anti_join</span><span class='op'>(</span><span class='va'>stop_words</span><span class='op'>)</span>


<span class='co'>#Use the btm model</span>
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>321</span><span class='op'>)</span>
<span class='va'>model</span> <span class='op'>&lt;-</span> <span class='fu'>BTM</span><span class='op'>(</span><span class='va'>tidytxtdata</span>, k <span class='op'>=</span> <span class='fl'>20</span>, beta <span class='op'>=</span> <span class='fl'>0.01</span>, background <span class='op'>=</span> <span class='cn'>TRUE</span>, iter <span class='op'>=</span> <span class='fl'>500</span>, trace <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span> <span class='co'>#Run the model</span>
</code></pre>
</div>
<pre><code>2021-07-14 00:25:44 Start Gibbs sampling iteration 1/500
2021-07-14 00:25:45 Start Gibbs sampling iteration 101/500
2021-07-14 00:25:47 Start Gibbs sampling iteration 201/500
2021-07-14 00:25:48 Start Gibbs sampling iteration 301/500
2021-07-14 00:25:49 Start Gibbs sampling iteration 401/500</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>topicterms</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/terms.html'>terms</a></span><span class='op'>(</span><span class='va'>model</span>, top_n <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span> <span class='co'>#View the topics</span>
<span class='co'>#topicterms</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/bnosac/textplot'>textplot</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://ggraph.data-imaginist.com'>ggraph</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://joelgombin.github.io/concaveman/'>concaveman</a></span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>model</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-20-1.png" width="624" /></p>
</div>
<p>To identify chatter/junk/spam from meaningful events. Firstly, lets find out the relationship of number of tweets and retwewts of a single author.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>tweet</span><span class='op'>&lt;-</span><span class='va'>data</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>author</span><span class='op'>!=</span><span class='st'>"NA"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>author</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>count</span><span class='op'>(</span><span class='op'>)</span>

<span class='va'>retweet</span><span class='op'>&lt;-</span><span class='va'>data</span> <span class='op'>%&gt;%</span>
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>RT_from</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>count</span><span class='op'>(</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>tweet</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>2</span><span class='op'>]</span><span class='op'>&lt;-</span><span class='st'>"tweet"</span>
<span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>retweet</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>2</span><span class='op'>]</span><span class='op'>&lt;-</span><span class='st'>"retweet"</span>


<span class='va'>tweet_retweet</span><span class='op'>&lt;-</span><span class='fu'>left_join</span><span class='op'>(</span><span class='va'>tweet</span>, <span class='va'>retweet</span>, by <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"author"</span><span class='op'>=</span><span class='st'>"RT_from"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>%&gt;%</span> 
    <span class='fu'>mutate_each</span><span class='op'>(</span><span class='fu'>funs</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/replace.html'>replace</a></span><span class='op'>(</span><span class='va'>.</span>, <span class='fu'><a href='https://rdrr.io/r/base/which.html'>which</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>.</span><span class='op'>)</span><span class='op'>)</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>arrange</span><span class='op'>(</span><span class='fu'>desc</span><span class='op'>(</span><span class='va'>tweet</span>,<span class='va'>retweet</span><span class='op'>)</span><span class='op'>)</span>


<span class='va'>tweet_retweet</span><span class='op'>$</span><span class='va'>ratio</span><span class='op'>&lt;-</span> <span class='va'>tweet_retweet</span><span class='op'>$</span><span class='va'>retweet</span><span class='op'>/</span><span class='va'>tweet_retweet</span><span class='op'>$</span><span class='va'>tweet</span>

<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>tweet_retweet</span> <span class='op'>%&gt;%</span> <span class='fu'>arrange</span><span class='op'>(</span><span class='va'>ratio</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 6 x 4
# Groups:   author [6]
  author       tweet retweet ratio
  &lt;chr&gt;        &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;
1 KronosQuoth   1265       0     0
2 Clevvah4Evah   153       0     0
3 BlueVelvet      37       0     0
4 brain448        35       0     0
5 sarajane        33       0     0
6 dtennent        32       0     0</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># p=ggplot(tweet_retweet , aes(x=tweet, y=retweet)) +</span>
<span class='co'>#   geom_point()+</span>
<span class='co'>#   geom_abline(coef = c(0,1))+</span>
<span class='co'>#   geom_text(data = filter(tweet_retweet, tweet&gt;=40|retweet&gt;=40),aes(label=author))</span>
<span class='co'># </span>
<span class='co'># ggplotly(p)</span>
<span class='fu'>plot_ly</span><span class='op'>(</span>data<span class='op'>=</span><span class='va'>tweet_retweet</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>author</span><span class='op'>!=</span><span class='st'>"KronosQuoth"</span><span class='op'>)</span>, <span class='co'>#exclude @Kronosquoth for aesthetic purpose</span>
        x<span class='op'>=</span><span class='op'>~</span><span class='va'>tweet</span>,
        y<span class='op'>=</span><span class='op'>~</span><span class='va'>retweet</span>,
        text<span class='op'>=</span> <span class='op'>~</span><span class='va'>author</span><span class='op'>)</span>
</code></pre>
</div>
<div id="htmlwidget-c5122a93a18fcb165ddc" style="width:624px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-c5122a93a18fcb165ddc">{"x":{"visdat":{"2e106afc7046":["function () ","plotlyVisDat"]},"cur_data":"2e106afc7046","attrs":{"2e106afc7046":{"x":{},"y":{},"text":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20]}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"tweet"},"yaxis":{"domain":[0,1],"automargin":true,"title":"retweet"},"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[153,106,72,67,65,64,63,50,49,37,37,35,34,33,32,32,30,30,30,30,30,28,28,27,27,27,27,27,26,26,26,26,25,25,25,25,25,25,25,24,24,23,23,23,23,23,23,23,23,22,22,22,22,21,21,21,20,20,20,18,17,17,17,16,16,16,15,15,15,15,15,14,14,14,12,12,12,12,12,11,10,10,10,10,9,9,9,9,9,9,9,8,7,7,7,6,6,6,6,6,6,5,5,5,5,5,5,5,4,4,4,4,4,4,4,4,4,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1],"y":[0,36,169,17,183,23,18,18,143,0,15,0,13,0,0,0,78,8,0,0,9,0,0,0,0,0,0,0,0,10,0,0,0,0,0,0,9,7,7,0,0,0,0,8,0,0,7,0,0,0,0,0,0,0,0,44,6,5,0,0,0,43,8,0,6,4,6,7,0,5,0,3,6,7,5,5,0,2,5,4,3,0,0,0,0,0,0,2,0,5,0,2,3,1,2,2,0,0,1,0,0,0,0,0,0,0,1,0,3,1,0,2,2,0,2,1,1,0,0,1,1,0,0,1,1,0,0,0,2,0,2,0,0,1,1,0,0,0,1,1,0,1,0,0,0,0,1,0,1,1,1,0,0],"text":["Clevvah4Evah","megaMan","AbilaPost","POK","HomelandIlluminations","truccotrucco","FriendsOfKronos","choconibbs","KronosStar","BlueVelvet","roger_roger","brain448","protoGuy","sarajane","dtennent","slamrjamr","CentralBulletin","GreyCatCollectibles","stolkfair","vetsRock","Viktor-E","lordWally","siliconKing","blueSunshine","phantomagate","rrWine","sithLordJames","zengardener","henri","SaveOurWildlands","vonneka","wiseWords","dolls4sale","gardener4958","jaques","joyce101","maha_Homeland","panopticon","trollingsnark","dragonRider1","wireHead1122","klingon4real","microBanana","ourcountryourrights","pinky","plasticParts","prettyRain","soup4u","worldWatcher","jgrobannne","luvMyPants","ninjabob","rnbwBrite","farmboy","lindyT","NewsOnlineToday","anaregents","footfingers","teresaJ","muppiesRock","brandonL","InternationalNews","OnlytheTruth","courage4life","Officia1AbilaPost","redisrad","AbilaPoliceDepartment","dangermice","electricAvenue","martaO","reggierockin776","ReggieWassali","SiaradSea","sofitees","AbilaAllFaith","AbilaFireDept","carjunkers","trapanitweets","truthforcadau","Sara_Nespola","brontes_riff","junkman377","junkman995","maskedWoman101","cheapgoods998","eazymoney","meds4realz43","MindOfKronos","rockinHW","Simon_Hamaeth","whiteprotein","MarcusDrymiau","hempRules","kingWilly","michelleR","brewvebeenserved","cminvestments11","dealsRUs101","powercrystals","skinnyJeans","yomamma","deals4realz","dirtdigger334","hotdrugs225","junkieduck113","kedits","martaflores","superhero447","cleaningFish","dtrejos","grassGreeener","grlPwrz505","hennyhenhendrix","katrina","praise111","rockStar113","writinLazy","aliceRocks","eliza003","HerraTomas","hngohebo_ABILAPOST","mailfoool","mainman447","pashmina887","starz1134","unicorns","windAvatar","BoraVerissimo","ernieO","fictionalJoe","jenny90210","jsmith","livin4HigherPower","luvwool","mamin","mattdies","mountain478","shoutItOut","soulofShi","stuffNstuff","supplementsRule","surferMan","aaasTech","creatorRocks","hazMore445","hermanM","joyBubbles","joyousNoise","junk99902","omgponies","onl1neRecords","partyon","pumpitup"],"type":"scatter","mode":"markers","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<p>From the chart above, we can notice that user with number of tweets does not have any retweets, such as <span class="citation" data-cites="Clevvah4Evah">@Clevvah4Evah</span>, <span class="citation" data-cites="KronosQuoth">@KronosQuoth</span>. On the other hand, authors with high re tweet frequency are HomelandIlluminations, <span class="citation" data-cites="AbilaPost">@AbilaPost</span>, <span class="citation" data-cites="KronosStar">@KronosStar</span>, <span class="citation" data-cites="CentralBulletin">@CentralBulletin</span> , <span class="citation" data-cites="NewsOnlineToday">@NewsOnlineToday</span> , and <span class="citation" data-cites="InternationalNews">@InternationalNews</span>, of which the post were more meaningful information to the public.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#net_edge&lt;-data %&gt;% select(c('RT_from','author')) %&gt;% arrange(desc(RT_from)) %&gt;% filter(RT_from!="")</span>
<span class='co'>#net_node&lt;-tweet_retweet%&gt;% select(c('author','retweet'))%&gt;% filter(retweet&gt;0)</span>
</code></pre>
</div>
</div>
<p>#4.2 Use visual analytics to represent and evaluate how the level of the risk to the public evolves over the course of the evening. Consider the potential consequences of the situation and the number of people who could be affected. Please limit your answer to 10 images and 1000 words.</p>
<p>##Number of posts</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>count</span> <span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'>%&gt;%</span>
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>type</span>,<span class='va'>time_1min</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>summarise</span><span class='op'>(</span>count_of_posts<span class='op'>=</span> <span class='fu'>n_distinct</span><span class='op'>(</span><span class='va'>message</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>count</span><span class='op'>$</span><span class='va'>time_1min</span><span class='op'>=</span><span class='fu'>ymd_hms</span><span class='op'>(</span><span class='va'>count</span><span class='op'>$</span><span class='va'>time_1min</span><span class='op'>)</span>
<span class='co'>#count$time_1min=format(count$time_1min,format = "%H:%M:%S") </span>

<span class='va'>mean</span><span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>count</span><span class='op'>$</span><span class='va'>count_of_posts</span><span class='op'>)</span>

<span class='fu'>ggplot</span><span class='op'>(</span><span class='va'>count</span>,<span class='fu'>aes</span><span class='op'>(</span>x<span class='op'>=</span><span class='va'>time_1min</span>,y<span class='op'>=</span><span class='va'>count_of_posts</span>,fill<span class='op'>=</span><span class='va'>type</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
         <span class='fu'>geom_bar</span><span class='op'>(</span>stat<span class='op'>=</span><span class='st'>"identity"</span>,position<span class='op'>=</span><span class='st'>"dodge"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='co'># geom_abline(h=mean, col = "black")+</span>
  <span class='fu'>theme</span><span class='op'>(</span>axis.text.x <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>angle <span class='op'>=</span> <span class='fl'>90</span>, hjust <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>ggtitle</span><span class='op'>(</span><span class='st'>"Total Number of Posts through the period"</span><span class='op'>)</span>
</code></pre>
</div>
<img src="vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-23-1.png" width="624" />
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>count</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/order.html'>order</a></span><span class='op'>(</span><span class='op'>-</span><span class='va'>count</span><span class='op'>$</span><span class='va'>count_of_posts</span><span class='op'>)</span>,<span class='op'>]</span>,<span class='fl'>10</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 10 x 3
# Groups:   type [1]
   type   time_1min           count_of_posts
   &lt;chr&gt;  &lt;dttm&gt;                       &lt;int&gt;
 1 mbdata 2014-01-23 19:43:00             61
 2 mbdata 2014-01-23 19:41:00             60
 3 mbdata 2014-01-23 19:44:00             48
 4 mbdata 2014-01-23 19:45:00             48
 5 mbdata 2014-01-23 18:47:00             47
 6 mbdata 2014-01-23 18:45:00             44
 7 mbdata 2014-01-23 18:52:00             38
 8 mbdata 2014-01-23 19:40:00             38
 9 mbdata 2014-01-23 20:10:00             38
10 mbdata 2014-01-23 19:46:00             33</code></pre>
</div>
<p>With time interval at 1 minute, the number of posts trend is plotted as above. The peaks of both ccdata and mbdata are observed during time 19:40-19:50, 18:45:00 and 20:10:00.</p>
<p>##Number of retweets/tweets</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>data_rt2</span><span class='op'>&lt;-</span><span class='va'>data</span> <span class='op'>%&gt;%</span> 
   <span class='co'>#filter(str_detect(message, "fire")) %&gt;% </span>
  <span class='fu'>select</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"author"</span>,<span class='st'>"time_1min"</span>,<span class='st'>"message"</span>,<span class='st'>"RT_from"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>time_1min</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>summarise</span><span class='op'>(</span>post<span class='op'>=</span><span class='fu'>n</span><span class='op'>(</span><span class='op'>)</span>,
            rt_post<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>RT_from</span><span class='op'>!=</span><span class='st'>""</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>data_rt2</span><span class='op'>$</span><span class='va'>time_1min</span><span class='op'>=</span><span class='fu'>ymd_hms</span><span class='op'>(</span><span class='va'>data_rt2</span><span class='op'>$</span><span class='va'>time_1min</span><span class='op'>)</span>


<span class='co'>#ggplot(fire,aes(x=time_1min,y=n))+</span>
         <span class='co'>#geom_bar(stat="identity",position="dodge")+</span>
  <span class='co'>#theme(axis.text.x = element_text(angle = 90, hjust = 1))+</span>
  <span class='co'>#ggtitle("Total Number of Posts through the period")</span>


<span class='fu'>ggplot</span><span class='op'>(</span><span class='va'>data_rt2</span>,<span class='fu'>aes</span><span class='op'>(</span>x<span class='op'>=</span><span class='va'>time_1min</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'>geom_bar</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>y<span class='op'>=</span><span class='va'>post</span><span class='op'>)</span>, stat <span class='op'>=</span> <span class='st'>"identity"</span>,fill <span class='op'>=</span> <span class='st'>"red"</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'>geom_bar</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>y<span class='op'>=</span><span class='va'>rt_post</span><span class='op'>)</span>, stat <span class='op'>=</span> <span class='st'>"identity"</span>,fill <span class='op'>=</span> <span class='st'>"blue"</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'>theme</span><span class='op'>(</span>axis.text.x <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>angle <span class='op'>=</span> <span class='fl'>90</span>, hjust <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
    <span class='fu'>ggtitle</span><span class='op'>(</span><span class='st'>"Tweet and RT"</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-24-1.png" width="624" /></p>
</div>
<p>Another way to detect the active level of microblog is to visualize the proportion of re-tweet/tweet. As shown in the bar graph above, the peak trend coincides with Total Number of Posts through the period, indicating the people are actively eveloved in the events happening in Abila.</p>
<p>The goverment can monitor the ratio of retweet in community to detect abnormal event.</p>
<p>##Important news source - Mainstream media/ ccdata /KOL</p>
<p>Noticed that the mainstream media (with name starting with capital letter and frequently re-tweet by public) and call center are actively quoted media for Abila.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># check if the media is mainstream media</span>

<span class='va'>data_RT</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>RT_from</span><span class='op'>!=</span><span class='va'>author</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>count</span><span class='op'>(</span><span class='va'>RT_from</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>arrange</span><span class='op'>(</span><span class='fu'>desc</span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>&gt;</span><span class='fl'>40</span><span class='op'>)</span> <span class='co'># filter the retweet over 10 times by public</span>
</code></pre>
</div>
<pre><code>                 RT_from   n
1: HomelandIlluminations 183
2:             AbilaPost 169
3:            KronosStar 143
4:       CentralBulletin  78
5:       NewsOnlineToday  44
6:     InternationalNews  43</code></pre>
</div>
<p><span class="citation" data-cites="HomelandIlluminations">@HomelandIlluminations</span>/<span class="citation" data-cites="AbilaPost">@AbilaPost</span>/<span class="citation" data-cites="KronosStar">@KronosStar</span>/<span class="citation" data-cites="CentralBulletin">@CentralBulletin</span>/<span class="citation" data-cites="NewsOnlineToday">@NewsOnlineToday</span>/<span class="citation" data-cites="InternationalNews">@InternationalNews</span> are top6 social media in area of Abila. Their tweet should be closely monitored by local authorities, in particular, when the frequency of re-tweet from the public has raised.</p>
<p>For instance, to understand peoples attehntion of the abnormal events, we can monitor the words and its relationships in main stream medias re-tweets.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#convert dataframe to corpus</span>


<span class='va'>data_RT_main</span><span class='op'>&lt;-</span><span class='va'>data</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>RT_from</span><span class='op'>==</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"HomelandIlluminations"</span>,<span class='st'>"AbilaPost"</span>,
                    <span class='st'>"KronosStar"</span>,<span class='st'>"CentralBulletin"</span>,
                    <span class='st'>"NewsOnlineToday"</span>,<span class='st'>"InternationalNews"</span><span class='op'>)</span><span class='op'>)</span>


<span class='va'>data_RT_main</span><span class='op'>$</span><span class='va'>id</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq.int</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>data_RT_main</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>data_RT_subset</span><span class='op'>&lt;-</span><span class='va'>data_RT_main</span> <span class='op'>%&gt;%</span> <span class='fu'>select</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"id"</span>,<span class='st'>"RT_message"</span><span class='op'>)</span><span class='op'>)</span>


<span class='va'>data_RT_subset</span><span class='op'>$</span><span class='va'>RT_message_cleaned</span><span class='op'>&lt;-</span>
  <span class='fu'><a href='https://rdrr.io/r/base/chartr.html'>tolower</a></span><span class='op'>(</span><span class='va'>data_RT_subset</span><span class='op'>$</span><span class='va'>RT_message</span><span class='op'>)</span><span class='op'>%&gt;%</span>   <span class='co'># transform all message to lower cases</span>
  <span class='fu'>replace_contraction</span><span class='op'>(</span><span class='op'>)</span><span class='op'>%&gt;%</span>   <span class='co'>#replace contractions with long form</span>
  <span class='fu'>replace_word_elongation</span><span class='op'>(</span><span class='op'>)</span><span class='op'>%&gt;%</span> 
  <span class='fu'>str_replace_all</span><span class='op'>(</span><span class='st'>"[0-9]"</span>, <span class='st'>""</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='co'>#removing numbers</span>
  <span class='fu'>str_replace_all</span><span class='op'>(</span><span class='st'>"([,=!.?$+%-&amp;#@])"</span>,<span class='st'>""</span><span class='op'>)</span><span class='op'>%&gt;%</span> <span class='co'>#remove punctuations</span>
  <span class='fu'>str_replace_all</span><span class='op'>(</span><span class='st'>"abila|abilapost|centralbulletin|kronosstar|pok|rally"</span>,<span class='st'>""</span><span class='op'>)</span><span class='op'>%&gt;%</span> 
  <span class='fu'>removeWords</span><span class='op'>(</span><span class='fu'>stopwords</span><span class='op'>(</span><span class='st'>"english"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>%&gt;%</span> 
  <span class='fu'>str_squish</span><span class='op'>(</span><span class='op'>)</span><span class='op'>%&gt;%</span> 
  <span class='va'>str_trim</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>lemmatize_strings</span><span class='op'>(</span><span class='op'>)</span>


<span class='va'>x</span><span class='op'>&lt;-</span><span class='va'>data_RT_subset</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>unnest_tokens</span><span class='op'>(</span><span class='va'>word</span>, <span class='va'>RT_message_cleaned</span><span class='op'>)</span>

<span class='va'>x</span><span class='op'>&lt;-</span><span class='fu'>cooccurrence</span><span class='op'>(</span><span class='va'>x</span>, group <span class='op'>=</span> <span class='st'>"id"</span>, term <span class='op'>=</span> <span class='st'>"word"</span><span class='op'>)</span>

<span class='va'>plt</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/textplot/man/textplot_cooccurrence.html'>textplot_cooccurrence</a></span><span class='op'>(</span><span class='va'>x</span>,
                             title <span class='op'>=</span> <span class='st'>"Re-tweet Co-occurrences"</span>, top_n <span class='op'>=</span> <span class='fl'>150</span><span class='op'>)</span>

<span class='va'>plt</span>
</code></pre>
</div>
<p><img src="vast-challenge-2021-mini-challenge-2_files/figure-html5/unnamed-chunk-26-1.png" width="624" /></p>
</div>
<p>In the retweet from the main media, high occurrence of fire at dolphine apartement has the most co-occurance of retweets in the community, indicating highest attention and highest risk in the community, followed by several events involved with police such as post of pokrally/ arrive at scene. While in the edge of the plot , we can found that the public was also interested in retweet firefighter injure at hospital/ suspect arrest.</p>
<p>tf-idf from call center</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>data</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>author</span><span class='op'>==</span><span class='st'>"FriendsOfKronos"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>      type date(yyyyMMddHHmmss)          author
 1: mbdata         2.014012e+13 FriendsOfKronos
 2: mbdata         2.014012e+13 FriendsOfKronos
 3: mbdata         2.014012e+13 FriendsOfKronos
 4: mbdata         2.014012e+13 FriendsOfKronos
 5: mbdata         2.014012e+13 FriendsOfKronos
 6: mbdata         2.014012e+13 FriendsOfKronos
 7: mbdata         2.014012e+13 FriendsOfKronos
 8: mbdata         2.014012e+13 FriendsOfKronos
 9: mbdata         2.014012e+13 FriendsOfKronos
10: mbdata         2.014012e+13 FriendsOfKronos
11: mbdata         2.014012e+13 FriendsOfKronos
12: mbdata         2.014012e+13 FriendsOfKronos
13: mbdata         2.014012e+13 FriendsOfKronos
14: mbdata         2.014012e+13 FriendsOfKronos
15: mbdata         2.014012e+13 FriendsOfKronos
16: mbdata         2.014012e+13 FriendsOfKronos
17: mbdata         2.014012e+13 FriendsOfKronos
18: mbdata         2.014012e+13 FriendsOfKronos
19: mbdata         2.014012e+13 FriendsOfKronos
20: mbdata         2.014012e+13 FriendsOfKronos
21: mbdata         2.014012e+13 FriendsOfKronos
22: mbdata         2.014012e+13 FriendsOfKronos
23: mbdata         2.014012e+13 FriendsOfKronos
24: mbdata         2.014012e+13 FriendsOfKronos
25: mbdata         2.014012e+13 FriendsOfKronos
26: mbdata         2.014012e+13 FriendsOfKronos
27: mbdata         2.014012e+13 FriendsOfKronos
28: mbdata         2.014012e+13 FriendsOfKronos
29: mbdata         2.014012e+13 FriendsOfKronos
30: mbdata         2.014012e+13 FriendsOfKronos
31: mbdata         2.014012e+13 FriendsOfKronos
32: mbdata         2.014012e+13 FriendsOfKronos
33: mbdata         2.014012e+13 FriendsOfKronos
34: mbdata         2.014012e+13 FriendsOfKronos
35: mbdata         2.014012e+13 FriendsOfKronos
36: mbdata         2.014012e+13 FriendsOfKronos
37: mbdata         2.014012e+13 FriendsOfKronos
38: mbdata         2.014012e+13 FriendsOfKronos
39: mbdata         2.014012e+13 FriendsOfKronos
40: mbdata         2.014012e+13 FriendsOfKronos
41: mbdata         2.014012e+13 FriendsOfKronos
42: mbdata         2.014012e+13 FriendsOfKronos
43: mbdata         2.014012e+13 FriendsOfKronos
44: mbdata         2.014012e+13 FriendsOfKronos
45: mbdata         2.014012e+13 FriendsOfKronos
46: mbdata         2.014012e+13 FriendsOfKronos
47: mbdata         2.014012e+13 FriendsOfKronos
48: mbdata         2.014012e+13 FriendsOfKronos
49: mbdata         2.014012e+13 FriendsOfKronos
50: mbdata         2.014012e+13 FriendsOfKronos
51: mbdata         2.014012e+13 FriendsOfKronos
52: mbdata         2.014012e+13 FriendsOfKronos
53: mbdata         2.014012e+13 FriendsOfKronos
54: mbdata         2.014012e+13 FriendsOfKronos
55: mbdata         2.014012e+13 FriendsOfKronos
56: mbdata         2.014012e+13 FriendsOfKronos
57: mbdata         2.014012e+13 FriendsOfKronos
58: mbdata         2.014012e+13 FriendsOfKronos
59: mbdata         2.014012e+13 FriendsOfKronos
60: mbdata         2.014012e+13 FriendsOfKronos
61: mbdata         2.014012e+13 FriendsOfKronos
62: mbdata         2.014012e+13 FriendsOfKronos
63: mbdata         2.014012e+13 FriendsOfKronos
      type date(yyyyMMddHHmmss)          author
                                                                                                                     message
 1:                                                  massive rally of POK terrorists - cops are gathered waiting for arrests
 2:                                                                  how long until POK terrorists start destroying the park
 3:                                                   terrorist leader Sylvia Marek tring to greenwash her terror group #POK
 4:                                                                                      another POK riot waiting to happend
 5:                                                                     what legitimate speaker would ally themself with POK
 6:                                                              Prof Di Stefano should lose his job #POK #terrorsympathizer
 7:                            stupd cops i have lost faith in #APD just arrest all these terrorists and figure it out later
 8:                                                            Lucio Jakab &amp; Save OUr Wetlands terrorist sympathesizers #POK
 9:                                   Abila POst says POK rally peaceful tell that to the people they kidnapped #POK #terror
10:                                          1200 terrorists in Abila City Park and the police does nothing #POK #terrorists
11:                    what is Abila police doing? waiting for the POK terrorists to kidnap murder more people? #POK #terror
12:                                           #APD has closed surrounding streets of POK rally is it crackdown time? hope so
13:                                             boycott Viktor-E! boycott Viktor-E! terrorist supporters are terrorists #POK
14:                                                                                 figured it out: POK are hippy terrorists
15:                                                       POK teror destroys Joni Mitchell song - never think of it the same
16:                                               Prof Distefano should be stripped of his degrees and deported #POK #terror
17:                                    what we need to demand Proffessor is that people like you stop aiding terrorists #POK
18:                listen to Dr Newman totally discredit herself to the rest of the world good carreer move doc #POK #terror
19:                          whos the enemy doc? the people of kronos? the kidnapped victims of POK terrror? ridiculous #POK
20:                                                                                       dr newman what a joke #POK #terror
21:                                                             thanks for ending your terrorist propaganda doc #POK #terror
22:                                  #APD should be arresting everyone that has spoken today starting with Sylvia Marek #POK
23:                                        #AbilaPOst are you joking? no violence? POK presence in the park is violence #POK
24:                                                                gunfire at gelatogalore give ya one guess: POK terrorists
25:              what is Abila coming to? used to be a peaceful city before POK started their peaceful movement #POK #terror
26:                                 cop shot at gelatogalore by POK terrorist knew it was only a matter of time #POK #terror
27:                                                  cop killed by POK terorists! where does the violence stop? #POK #terror
28:                                                       stay away from Gelatogalore terrorists shooting cops! #POK #terror
29:                                                   ambulance on it sway to gleatogalore shooting police officer shot #POK
30:                                                police are doing something evacuating public around ALexandrias &amp; Ithakis
31:                                                                                more cops coming to battle POK terrorists
32:                                       Sylvia&#39;s rally in the park just a distraction? #POK #terroristsnotasdumbastheylook
33:                                       Abila Post says police officer is wounded not sure if i trust that #POK #copkiller
34:                                                              #APD swat on the scene! take the terrorists down boys! #POK
35:                                                                                   Terrorists have hostages! #POK #terror
36:                                                      APD stop the terrorists before they cut the hostages head off! #POK
37:                                         businesses around gelatogalore being evacuated out of danger from POK terrorists
38:                                          wait! POK terrorists with hostages these are the kidnapped people from gastech!
39:                                                             they must have a van full of terrified people #POK #hostages
40:                                                                                             why talk? take em down! #POK
41:                                                   shooting cops is terrorism dont negotiate with terrorists #POK #terror
42:                                                                             shoot first ask questions later #POK #terror
43:                   its a standoff what do you know? cops dont do anything at rally they dont do anything at shooting #POK
44:             just admit it Sylvia Marek you are a terrorist POK are terrorists and you orchestrated all this #POK #terror
45: why has no one put it together? black van shooter rally hostages = POK rally distraction for POK kidnapping #POK #terror
46:                            they were moving the hostages and got cuaght the feeble minded always result to violence #POK
47:                                        i found the kidnapped GASTECH employees there at gelatogalore with POK terrorists
48:                                                                                                       APD should hire me
49:                                        what kind of dummies go to where shooting is? bystanders deserve to get shot #POK
50:                                                terrorists love random violence shoot an innocent bystander why not? #POK
51:                                                                       hey Abila Post: terrorism is bad for business #POK
52:                                         no amount of greenwashing can clean your terror organization Sylvia #POK #terror
53:                                                                     crowd continues to grow despite police warnings #POK
54:                                                                             i know lets get close to the terrorists #POK
55:                                             stand off dragging on are they debating how stufpid the terrorists are? #POK
56:                                                                                             no deal with terrorists #POK
57:                                                                                  stand off continues with POK terrorists
58:                                                                               two hostages saved two terrorists arrested
59:                                                                             one male one female terrorist surrender #POK
60:                                           great work APD you negotiated with terrorists - bullets are swift justice #POK
61:                                                                 stand off with POK terrorists ends without more violence
62:                                                                   suspects? terrorists names have not been released #POK
63:                                                       APD wont release names bet you i can guess there employer #GASTECH
                                                                                                                     message
    latitude longitude location           timestamp
 1:       NA        NA     &lt;NA&gt; 2014-01-23 17:00:00
 2:       NA        NA     &lt;NA&gt; 2014-01-23 17:03:44
 3:       NA        NA     &lt;NA&gt; 2014-01-23 17:11:02
 4:       NA        NA     &lt;NA&gt; 2014-01-23 17:11:59
 5:       NA        NA     &lt;NA&gt; 2014-01-23 17:14:47
 6:       NA        NA     &lt;NA&gt; 2014-01-23 17:15:13
 7:       NA        NA     &lt;NA&gt; 2014-01-23 17:18:33
 8:       NA        NA     &lt;NA&gt; 2014-01-23 17:21:00
 9:       NA        NA     &lt;NA&gt; 2014-01-23 17:24:31
10:       NA        NA     &lt;NA&gt; 2014-01-23 17:26:58
11:       NA        NA     &lt;NA&gt; 2014-01-23 17:28:08
12:       NA        NA     &lt;NA&gt; 2014-01-23 17:31:04
13:       NA        NA     &lt;NA&gt; 2014-01-23 17:32:55
14:       NA        NA     &lt;NA&gt; 2014-01-23 17:35:38
15:       NA        NA     &lt;NA&gt; 2014-01-23 17:42:31
16:       NA        NA     &lt;NA&gt; 2014-01-23 17:53:59
17:       NA        NA     &lt;NA&gt; 2014-01-23 18:02:05
18:       NA        NA     &lt;NA&gt; 2014-01-23 18:30:00
19:       NA        NA     &lt;NA&gt; 2014-01-23 18:35:00
20:       NA        NA     &lt;NA&gt; 2014-01-23 18:42:45
21:       NA        NA     &lt;NA&gt; 2014-01-23 18:45:00
22:       NA        NA     &lt;NA&gt; 2014-01-23 18:45:32
23:       NA        NA     &lt;NA&gt; 2014-01-23 19:16:46
24:       NA        NA     &lt;NA&gt; 2014-01-23 19:41:00
25:       NA        NA     &lt;NA&gt; 2014-01-23 19:41:07
26:       NA        NA     &lt;NA&gt; 2014-01-23 19:41:57
27:       NA        NA     &lt;NA&gt; 2014-01-23 19:42:03
28:       NA        NA     &lt;NA&gt; 2014-01-23 19:43:00
29:       NA        NA     &lt;NA&gt; 2014-01-23 19:43:57
30:       NA        NA     &lt;NA&gt; 2014-01-23 19:45:00
31:       NA        NA     &lt;NA&gt; 2014-01-23 19:46:35
32:       NA        NA     &lt;NA&gt; 2014-01-23 19:46:41
33:       NA        NA     &lt;NA&gt; 2014-01-23 19:51:13
34:       NA        NA     &lt;NA&gt; 2014-01-23 19:57:00
35:       NA        NA     &lt;NA&gt; 2014-01-23 19:59:31
36:       NA        NA     &lt;NA&gt; 2014-01-23 20:01:11
37:       NA        NA     &lt;NA&gt; 2014-01-23 20:06:13
38:       NA        NA     &lt;NA&gt; 2014-01-23 20:07:09
39:       NA        NA     &lt;NA&gt; 2014-01-23 20:08:01
40:       NA        NA     &lt;NA&gt; 2014-01-23 20:10:00
41:       NA        NA     &lt;NA&gt; 2014-01-23 20:10:22
42:       NA        NA     &lt;NA&gt; 2014-01-23 20:10:38
43:       NA        NA     &lt;NA&gt; 2014-01-23 20:13:00
44:       NA        NA     &lt;NA&gt; 2014-01-23 20:15:01
45:       NA        NA     &lt;NA&gt; 2014-01-23 20:18:01
46:       NA        NA     &lt;NA&gt; 2014-01-23 20:19:04
47:       NA        NA     &lt;NA&gt; 2014-01-23 20:21:03
48:       NA        NA     &lt;NA&gt; 2014-01-23 20:21:13
49:       NA        NA     &lt;NA&gt; 2014-01-23 20:23:03
50:       NA        NA     &lt;NA&gt; 2014-01-23 20:25:00
51:       NA        NA     &lt;NA&gt; 2014-01-23 20:26:15
52:       NA        NA     &lt;NA&gt; 2014-01-23 20:27:33
53:       NA        NA     &lt;NA&gt; 2014-01-23 20:30:15
54:       NA        NA     &lt;NA&gt; 2014-01-23 20:31:01
55:       NA        NA     &lt;NA&gt; 2014-01-23 20:31:59
56:       NA        NA     &lt;NA&gt; 2014-01-23 20:32:52
57:       NA        NA     &lt;NA&gt; 2014-01-23 20:47:13
58:       NA        NA     &lt;NA&gt; 2014-01-23 21:19:03
59:       NA        NA     &lt;NA&gt; 2014-01-23 21:21:11
60:       NA        NA     &lt;NA&gt; 2014-01-23 21:21:39
61:       NA        NA     &lt;NA&gt; 2014-01-23 21:23:03
62:       NA        NA     &lt;NA&gt; 2014-01-23 21:23:34
63:       NA        NA     &lt;NA&gt; 2014-01-23 21:24:13
    latitude longitude location           timestamp
              time_1min
 1: 2014-01-23 17:00:00
 2: 2014-01-23 17:03:00
 3: 2014-01-23 17:11:00
 4: 2014-01-23 17:11:00
 5: 2014-01-23 17:14:00
 6: 2014-01-23 17:15:00
 7: 2014-01-23 17:18:00
 8: 2014-01-23 17:21:00
 9: 2014-01-23 17:24:00
10: 2014-01-23 17:26:00
11: 2014-01-23 17:28:00
12: 2014-01-23 17:31:00
13: 2014-01-23 17:32:00
14: 2014-01-23 17:35:00
15: 2014-01-23 17:42:00
16: 2014-01-23 17:53:00
17: 2014-01-23 18:02:00
18: 2014-01-23 18:30:00
19: 2014-01-23 18:35:00
20: 2014-01-23 18:42:00
21: 2014-01-23 18:45:00
22: 2014-01-23 18:45:00
23: 2014-01-23 19:16:00
24: 2014-01-23 19:41:00
25: 2014-01-23 19:41:00
26: 2014-01-23 19:41:00
27: 2014-01-23 19:42:00
28: 2014-01-23 19:43:00
29: 2014-01-23 19:43:00
30: 2014-01-23 19:45:00
31: 2014-01-23 19:46:00
32: 2014-01-23 19:46:00
33: 2014-01-23 19:51:00
34: 2014-01-23 19:57:00
35: 2014-01-23 19:59:00
36: 2014-01-23 20:01:00
37: 2014-01-23 20:06:00
38: 2014-01-23 20:07:00
39: 2014-01-23 20:08:00
40: 2014-01-23 20:10:00
41: 2014-01-23 20:10:00
42: 2014-01-23 20:10:00
43: 2014-01-23 20:13:00
44: 2014-01-23 20:15:00
45: 2014-01-23 20:18:00
46: 2014-01-23 20:19:00
47: 2014-01-23 20:21:00
48: 2014-01-23 20:21:00
49: 2014-01-23 20:23:00
50: 2014-01-23 20:25:00
51: 2014-01-23 20:26:00
52: 2014-01-23 20:27:00
53: 2014-01-23 20:30:00
54: 2014-01-23 20:31:00
55: 2014-01-23 20:31:00
56: 2014-01-23 20:32:00
57: 2014-01-23 20:47:00
58: 2014-01-23 21:19:00
59: 2014-01-23 21:21:00
60: 2014-01-23 21:21:00
61: 2014-01-23 21:23:00
62: 2014-01-23 21:23:00
63: 2014-01-23 21:24:00
              time_1min
                                                                              cleaned
 1:                              massive rally pok terrorist - cop gather wait arrest
 2:                                             long pok terrorist start destroy park
 3:                        terrorist leader sylvia marek tring greenwash terror group
 4:                                                     another pok riot wait happend
 5:                                              legitimate speaker ally themself pok
 6:                                                          prof di stefano lose job
 7:                            stupd cop lose faith just arrest terrorist figure late
 8:                                 lucio jakab save wetland terrorist sympathesizers
 9:                              abila post say pok rally peaceful tell people kidnap
10:                                          terrorist abila city park police nothing
11:                              abila police wait pok terrorist kidnap murder people
12:                               close surround street pok rally crackdown time hope
13:               boycott viktor - e boycott viktor - e terrorist supporter terrorist
14:                                                       figure: pok hippy terrorist
15:                                pok teror destroy joni mitchell song - never think
16:                                                prof distefano strip degree deport
17:                             need demand proffessor people like stop aid terrorist
18:               listen dr newman totally discredit rest world good carreer move doc
19:                  whos enemy doc people kronos kidnap victim pok terror ridiculous
20:                                                                    dr newman joke
21:                                                thank end terrorist propaganda doc
22:                                    arrest everyone speak today start sylvia marek
23:                                          joke violence pok presence park violence
24:                            gunfire gelatogalore give you one guess: pok terrorist
25:                          abila come use peaceful city pok start peaceful movement
26:                             cop shoot gelatogalore pok terrorist know matter time
27:                                              cop kill pok terorists violence stop
28:                                        stay away gelatogalore terrorist shoot cop
29:                            ambulance sway gleatogalore shoot police officer shoot
30:                       police something evacuate public around alexandrias ithakis
31:                                                     cop come battle pok terrorist
32:                                              sylvia&#39;s rally park just distraction
33:                                    abila post say police officer wound sure trust
34:                                                     swat scene take terrorist boy
35:                                                                 terrorist hostage
36:                                               apd stop terrorist cut hostage head
37:                        business around gelatogalore evacuate danger pok terrorist
38:                                  wait pok terrorist hostage kidnap people gastech
39:                                                      must van full terrify people
40:                                                                      talk take em
41:                                        shoot cop terrorism do negotiate terrorist
42:                                                     shoot first ask question late
43:                             standoff know cop do anything rally do anything shoot
44:                       just admit sylvia marek terrorist pok terrorist orchestrate
45: one put together black van shooter rally hostage pok rally distraction pok kidnap
46:                        move hostage get cuaght feeble mind always result violence
47:                           find kidnap gastech employee gelatogalore pok terrorist
48:                                                                          apd hire
49:                                   kind dummy go shoot bystander deserve get shoot
50:                           terrorist love random violence shoot innocent bystander
51:                                            hey abila post: terrorism bad business
52:                          amount greenwashing can clean terror organization sylvia
53:                                        crowd continue grow despite police warning
54:                                                      know let get close terrorist
55:                                               stand drag debate stufpid terrorist
56:                                                                    deal terrorist
57:                                                      stand continue pok terrorist
58:                                             two hostage save two terrorist arrest
59:                                           one male one female terrorist surrender
60:                         great work apd negotiate terrorist - bullet swift justice
61:                                          stand pok terrorist end without violence
62:                                                    suspect terrorist name release
63:                                      apd wont release name bet can guess employer
                                                                              cleaned
    RT_pattern RT_from
 1:                   
 2:                   
 3:                   
 4:                   
 5:                   
 6:                   
 7:                   
 8:                   
 9:                   
10:                   
11:                   
12:                   
13:                   
14:                   
15:                   
16:                   
17:                   
18:                   
19:                   
20:                   
21:                   
22:                   
23:                   
24:                   
25:                   
26:                   
27:                   
28:                   
29:                   
30:                   
31:                   
32:                   
33:                   
34:                   
35:                   
36:                   
37:                   
38:                   
39:                   
40:                   
41:                   
42:                   
43:                   
44:                   
45:                   
46:                   
47:                   
48:                   
49:                   
50:                   
51:                   
52:                   
53:                   
54:                   
55:                   
56:                   
57:                   
58:                   
59:                   
60:                   
61:                   
62:                   
63:                   
    RT_pattern RT_from
                                                                                                                  RT_message
 1:                                                  massive rally of POK terrorists - cops are gathered waiting for arrests
 2:                                                                  how long until POK terrorists start destroying the park
 3:                                                   terrorist leader Sylvia Marek tring to greenwash her terror group #POK
 4:                                                                                      another POK riot waiting to happend
 5:                                                                     what legitimate speaker would ally themself with POK
 6:                                                              Prof Di Stefano should lose his job #POK #terrorsympathizer
 7:                            stupd cops i have lost faith in #APD just arrest all these terrorists and figure it out later
 8:                                                            Lucio Jakab &amp; Save OUr Wetlands terrorist sympathesizers #POK
 9:                                   Abila POst says POK rally peaceful tell that to the people they kidnapped #POK #terror
10:                                          1200 terrorists in Abila City Park and the police does nothing #POK #terrorists
11:                    what is Abila police doing? waiting for the POK terrorists to kidnap murder more people? #POK #terror
12:                                           #APD has closed surrounding streets of POK rally is it crackdown time? hope so
13:                                             boycott Viktor-E! boycott Viktor-E! terrorist supporters are terrorists #POK
14:                                                                                 figured it out: POK are hippy terrorists
15:                                                       POK teror destroys Joni Mitchell song - never think of it the same
16:                                               Prof Distefano should be stripped of his degrees and deported #POK #terror
17:                                    what we need to demand Proffessor is that people like you stop aiding terrorists #POK
18:                listen to Dr Newman totally discredit herself to the rest of the world good carreer move doc #POK #terror
19:                          whos the enemy doc? the people of kronos? the kidnapped victims of POK terrror? ridiculous #POK
20:                                                                                       dr newman what a joke #POK #terror
21:                                                             thanks for ending your terrorist propaganda doc #POK #terror
22:                                  #APD should be arresting everyone that has spoken today starting with Sylvia Marek #POK
23:                                        #AbilaPOst are you joking? no violence? POK presence in the park is violence #POK
24:                                                                gunfire at gelatogalore give ya one guess: POK terrorists
25:              what is Abila coming to? used to be a peaceful city before POK started their peaceful movement #POK #terror
26:                                 cop shot at gelatogalore by POK terrorist knew it was only a matter of time #POK #terror
27:                                                  cop killed by POK terorists! where does the violence stop? #POK #terror
28:                                                       stay away from Gelatogalore terrorists shooting cops! #POK #terror
29:                                                   ambulance on it sway to gleatogalore shooting police officer shot #POK
30:                                                police are doing something evacuating public around ALexandrias &amp; Ithakis
31:                                                                                more cops coming to battle POK terrorists
32:                                       Sylvia&#39;s rally in the park just a distraction? #POK #terroristsnotasdumbastheylook
33:                                       Abila Post says police officer is wounded not sure if i trust that #POK #copkiller
34:                                                              #APD swat on the scene! take the terrorists down boys! #POK
35:                                                                                   Terrorists have hostages! #POK #terror
36:                                                      APD stop the terrorists before they cut the hostages head off! #POK
37:                                         businesses around gelatogalore being evacuated out of danger from POK terrorists
38:                                          wait! POK terrorists with hostages these are the kidnapped people from gastech!
39:                                                             they must have a van full of terrified people #POK #hostages
40:                                                                                             why talk? take em down! #POK
41:                                                   shooting cops is terrorism dont negotiate with terrorists #POK #terror
42:                                                                             shoot first ask questions later #POK #terror
43:                   its a standoff what do you know? cops dont do anything at rally they dont do anything at shooting #POK
44:             just admit it Sylvia Marek you are a terrorist POK are terrorists and you orchestrated all this #POK #terror
45: why has no one put it together? black van shooter rally hostages = POK rally distraction for POK kidnapping #POK #terror
46:                            they were moving the hostages and got cuaght the feeble minded always result to violence #POK
47:                                        i found the kidnapped GASTECH employees there at gelatogalore with POK terrorists
48:                                                                                                       APD should hire me
49:                                        what kind of dummies go to where shooting is? bystanders deserve to get shot #POK
50:                                                terrorists love random violence shoot an innocent bystander why not? #POK
51:                                                                       hey Abila Post: terrorism is bad for business #POK
52:                                         no amount of greenwashing can clean your terror organization Sylvia #POK #terror
53:                                                                     crowd continues to grow despite police warnings #POK
54:                                                                             i know lets get close to the terrorists #POK
55:                                             stand off dragging on are they debating how stufpid the terrorists are? #POK
56:                                                                                             no deal with terrorists #POK
57:                                                                                  stand off continues with POK terrorists
58:                                                                               two hostages saved two terrorists arrested
59:                                                                             one male one female terrorist surrender #POK
60:                                           great work APD you negotiated with terrorists - bullets are swift justice #POK
61:                                                                 stand off with POK terrorists ends without more violence
62:                                                                   suspects? terrorists names have not been released #POK
63:                                                       APD wont release names bet you i can guess there employer #GASTECH
                                                                                                                  RT_message
    hashtag                      user_mentioned          time_30min
 1:                                             2014-01-23 17:00:00
 2:                                             2014-01-23 17:00:00
 3:                                        #POK 2014-01-23 17:00:00
 4:                                             2014-01-23 17:00:00
 5:                                             2014-01-23 17:00:00
 6:                     #POK,#terrorsympathizer 2014-01-23 17:00:00
 7:                                        #APD 2014-01-23 17:00:00
 8:                                        #POK 2014-01-23 17:00:00
 9:                                #POK,#terror 2014-01-23 17:00:00
10:                            #POK,#terrorists 2014-01-23 17:00:00
11:                                #POK,#terror 2014-01-23 17:00:00
12:                                        #APD 2014-01-23 17:30:00
13:                                        #POK 2014-01-23 17:30:00
14:                                             2014-01-23 17:30:00
15:                                             2014-01-23 17:30:00
16:                                #POK,#terror 2014-01-23 17:30:00
17:                                        #POK 2014-01-23 18:00:00
18:                                #POK,#terror 2014-01-23 18:30:00
19:                                        #POK 2014-01-23 18:30:00
20:                                #POK,#terror 2014-01-23 18:30:00
21:                                #POK,#terror 2014-01-23 18:30:00
22:                                   #APD,#POK 2014-01-23 18:30:00
23:                             #AbilaPOst,#POK 2014-01-23 19:00:00
24:                                             2014-01-23 19:30:00
25:                                #POK,#terror 2014-01-23 19:30:00
26:                                #POK,#terror 2014-01-23 19:30:00
27:                                #POK,#terror 2014-01-23 19:30:00
28:                                #POK,#terror 2014-01-23 19:30:00
29:                                        #POK 2014-01-23 19:30:00
30:                                             2014-01-23 19:30:00
31:                                             2014-01-23 19:30:00
32:         #POK,#terroristsnotasdumbastheylook 2014-01-23 19:30:00
33:                             #POK,#copkiller 2014-01-23 19:30:00
34:                                   #APD,#POK 2014-01-23 19:30:00
35:                                #POK,#terror 2014-01-23 19:30:00
36:                                        #POK 2014-01-23 20:00:00
37:                                             2014-01-23 20:00:00
38:                                             2014-01-23 20:00:00
39:                              #POK,#hostages 2014-01-23 20:00:00
40:                                        #POK 2014-01-23 20:00:00
41:                                #POK,#terror 2014-01-23 20:00:00
42:                                #POK,#terror 2014-01-23 20:00:00
43:                                        #POK 2014-01-23 20:00:00
44:                                #POK,#terror 2014-01-23 20:00:00
45:                                #POK,#terror 2014-01-23 20:00:00
46:                                        #POK 2014-01-23 20:00:00
47:                                             2014-01-23 20:00:00
48:                                             2014-01-23 20:00:00
49:                                        #POK 2014-01-23 20:00:00
50:                                        #POK 2014-01-23 20:00:00
51:                                        #POK 2014-01-23 20:00:00
52:                                #POK,#terror 2014-01-23 20:00:00
53:                                        #POK 2014-01-23 20:30:00
54:                                        #POK 2014-01-23 20:30:00
55:                                        #POK 2014-01-23 20:30:00
56:                                        #POK 2014-01-23 20:30:00
57:                                             2014-01-23 20:30:00
58:                                             2014-01-23 21:00:00
59:                                        #POK 2014-01-23 21:00:00
60:                                        #POK 2014-01-23 21:00:00
61:                                             2014-01-23 21:00:00
62:                                        #POK 2014-01-23 21:00:00
63:                                    #GASTECH 2014-01-23 21:00:00
    hashtag                      user_mentioned          time_30min
      id
 1:    9
 2:   50
 3:  123
 4:  134
 5:  173
 6:  188
 7:  244
 8:  278
 9:  326
10:  380
11:  421
12:  456
13:  476
14:  511
15:  575
16:  683
17:  753
18: 1029
19: 1079
20: 1161
21: 1221
22: 1244
23: 1839
24: 2265
25: 2275
26: 2326
27: 2334
28: 2376
29: 2434
30: 2503
31: 2571
32: 2578
33: 2690
34: 2762
35: 2807
36: 2851
37: 2928
38: 2954
39: 2971
40: 3005
41: 3032
42: 3039
43: 3096
44: 3121
45: 3159
46: 3169
47: 3204
48: 3214
49: 3249
50: 3273
51: 3293
52: 3312
53: 3351
54: 3359
55: 3372
56: 3384
57: 3560
58: 3871
59: 3903
60: 3915
61: 3938
62: 3949
63: 3969
      id</code></pre>
</div>
<p>##the most popular retweets  word cloud// textnets ##real-time co-occurrence of texts</p>
<p>At 18:25:00, user GreyCatCollectibles first posted Smell something funny upstairs - wish this renovation work would get finished!, followed by his postYuck - electrical smell is getting worse,OMG  really smells like smoke now in 10 minutes, making him the first person detecting the fire at dancing dolphin.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#author_post&lt;-data %&gt;% count(author)</span>
<span class='co'>#author_post[order(author_post$n),]</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># data %&gt;% </span>
<span class='co'>#    filter(author=="GreyCatCollectibles") %&gt;% </span>
<span class='co'>#   select(c("author","timestamp","message"))</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># data_RT %&gt;% </span>
<span class='co'>#   count(RT_message) %&gt;% </span>
<span class='co'>#   arrange(desc(n))</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># data_RT &lt;- data %&gt;% filter(RT_from!="")</span>
<span class='co'># </span>
<span class='co'># RT_edges_aggregated &lt;- data_RT %&gt;%select(c("RT_from","author"))</span>


<span class='co'># RT_edges_aggregated &lt;- data_RT %&gt;%</span>
<span class='co'>#   group_by(RT_from,author) %&gt;%</span>
<span class='co'>#     summarise(Weight = n()) %&gt;%</span>
<span class='co'>#   filter(Weight &gt; 1) %&gt;%</span>
<span class='co'>#   ungroup()</span>

<span class='co'># tweet_retweet&lt;-left_join(tweet, retweet, by = c("author"="RT_from"))%&gt;% </span>
<span class='co'>#     mutate_each(funs(replace(., which(is.na(.)), 0))) %&gt;% </span>
<span class='co'># </span>
<span class='co'># RT_edges_aggregated&lt;-left_join(RT_edges_aggregated,tweet_retweet %&gt;% select(c("author","retweet"))</span>
<span class='co'>#           , by=c("RT_from"="author"))</span>

<span class='co'># </span>
<span class='co'># RT_graph &lt;- tbl_graph(nodes = </span>
<span class='co'>#                            edges = RT_edges_aggregated, </span>
<span class='co'>#                            directed = TRUE)</span>
<span class='co'># g &lt;- ggraph(RT_graph, </span>
<span class='co'>#             layout = "nicely") + </span>
<span class='co'>#   geom_edge_link(aes()) +</span>
<span class='co'>#   geom_node_point(aes(size = Weight))</span>
<span class='co'># g + theme_graph()</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">

</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># data_RT %&gt;% </span>
<span class='co'>#   group_by(RT_from,RT_message,author) %&gt;% </span>
<span class='co'>#   count(timestamp) %&gt;% </span>
<span class='co'>#   ungroup()</span>
<span class='co'># </span>
<span class='co'># </span>
<span class='co'># RT_edges_aggregated &lt;- data_RT %&gt;%</span>
<span class='co'>#   group_by(message,author) %&gt;%</span>
<span class='co'>#     summarise(Weight = n()) %&gt;%</span>
<span class='co'>#   filter(Weight &gt;= 1) %&gt;%</span>
<span class='co'>#   ungroup()</span>
<span class='co'># </span>
<span class='co'># RT_edges_aggregated </span>
<span class='co'># </span>
<span class='co'># </span>
<span class='co'># RT_graph &lt;- tbl_graph(</span>
<span class='co'>#                            edges = RT_edges_aggregated, </span>
<span class='co'>#                            directed = TRUE)</span>
<span class='co'># </span>
<span class='co'># g &lt;- ggraph(RT_graph, </span>
<span class='co'>#             layout = "nicely") + </span>
<span class='co'>#   geom_edge_link(aes()) +</span>
<span class='co'>#   geom_node_point(aes(size = 3))</span>
<span class='co'># g + theme_graph()</span>
</code></pre>
</div>
</div>
<p>messages from call center</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># packages= c('raster','sf','clock','tmap','tidyverse')</span>
<span class='co'># </span>
<span class='co'># for(p in packages){</span>
<span class='co'>#   if(!require(p,character.only= T)){</span>
<span class='co'>#     install.packages(p)</span>
<span class='co'>#     }</span>
<span class='co'>#   library(p, character.only = T)</span>
<span class='co'># }</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># bgmap&lt;- raster("data/MC3/Geospatial/MC2-tourist.tif")</span>
<span class='co'># bgmap</span>
<span class='co'># </span>
<span class='co'># tmap_mode("plot") #interactive view</span>
<span class='co'># </span>
<span class='co'># tm_shape(bgmap) +</span>
<span class='co'>#   tm_rgb(bgmap, r=1, g=2, b=3,</span>
<span class='co'>#          alpha=NA,</span>
<span class='co'>#          saturation = 1,</span>
<span class='co'>#          interpolate = TRUE,</span>
<span class='co'>#          max.value = 255)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># cc_data&lt;-data %&gt;% </span>
<span class='co'>#   filter(type=="ccdata")</span>
<span class='co'># </span>
<span class='co'># docs &lt;- Corpus(VectorSource(as.character(cc_data$cleaned)))</span>
<span class='co'># </span>
<span class='co'># inspect(docs[1:2])</span>
<span class='co'># </span>
<span class='co'># # Create a document-term-matrix</span>
<span class='co'># </span>
<span class='co'># dtm &lt;- TermDocumentMatrix(docs) </span>
<span class='co'># matrix &lt;- as.matrix(dtm) </span>
<span class='co'># words &lt;- sort(rowSums(matrix),decreasing=TRUE) </span>
<span class='co'># </span>
<span class='co'># # words and frequency dataframe</span>
<span class='co'># df &lt;- data.frame(word = names(words),freq=words)</span>
<span class='co'># </span>
<span class='co'># #word cloud</span>
<span class='co'># wordcloud(words = df$word, freq = df$freq, min.freq = 5,           max.words=200, random.order=FALSE, rot.per=0.35,            colors=brewer.pal(8, "Dark2"))</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># write.csv(data,"data/data.csv")</span>
</code></pre>
</div>
</div>
<p>Then, frequency of the author</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># groupby_author&lt;-data %&gt;% </span>
<span class='co'>#   group_by(author) %&gt;% </span>
<span class='co'>#   count %&gt;% </span>
<span class='co'>#   ungroup</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># data_2&lt;-data %&gt;%</span>
<span class='co'>#      group_by(author) %&gt;%</span>
<span class='co'>#      dplyr::summarise(all_posts=paste(message, collapse=" "))</span>
<span class='co'># </span>
<span class='co'># sotu_firsts_nouns &lt;- PrepText(data_2, groupvar = "author", textvar = "all_posts", node_type = "groups", tokenizer = "tweets", pos = "nouns", remove_stop_words = FALSE, compound_nouns = TRUE)</span>

<span class='co'># &lt;- PrepTextSent(data_2, groupvar = "author", textvar = "cleaned", node_type = "groups", </span>
                                      <span class='co'>#tokenizer = "words", sentiment_lexicon = "afinn", language = "english", udmodel_lang = #udmodel_lang, remove_numbers = NULL, compound_nouns = TRUE)</span>

<span class='co'># sotu_firsts_network &lt;- CreateTextnet(sotu_firsts_nouns)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#VisTextNet(sotu_firsts_network,label_degree_cut = 0)</span>
<span class='co'># VisTextNetD3(sotu_firsts_network)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># sotu_firsts_communities &lt;- TextCommunities(sotu_firsts_network)</span>
<span class='co'># top_words_modularity_classes &lt;- InterpretText(sotu_firsts_network, sotu_firsts_nouns)</span>
<span class='co'># text_centrality &lt;- TextCentrality(sotu_firsts_network)</span>
</code></pre>
</div>
</div>
<p>#4.3 If you were able to send a team of first responders to any single place, where would it be? Provide your rationale. How might your response be different if you had to respond to the events in real time rather than retrospectively? Please limit your answer to 8 images and 500 words</p>
<p>critize ccdata #Reference</p>
<p>Junghoon Chae, Dennis Thom, Yun Jang, SungYe Kim, Thomas Ertl, David S. Ebert, Public behavior response analysis in disaster events utilizing visual analytics of microblog data,Computers &amp; Graphics,Volume 38,2014,Pages 51-60,ISSN 0097-8493,<a href="https://doi.org/10.1016/j.cag.2013.10.008" class="uri">https://doi.org/10.1016/j.cag.2013.10.008</a>.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
